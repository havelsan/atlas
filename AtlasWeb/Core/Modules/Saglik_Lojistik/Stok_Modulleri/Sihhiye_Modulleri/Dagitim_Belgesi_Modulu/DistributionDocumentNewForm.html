<div class="container-fluid" id="A6145" data-tid="A333144">
    <h4 class="logisticLabel" style="margin-left:40%;color:#08c;" id="A6146" data-tid="A333145">{{FormCaption}}</h4>
    <NeStatePanelComponent [OutgoingTransitions]="distributionDocumentNewFormViewModel?.OutgoingTransitions" [StateReports]="distributionDocumentNewFormViewModel?.CurrentStateReports" [ObjectID]="distributionDocumentNewFormViewModel?._DistributionDocument?.ObjectID" [ObjectDefID]="distributionDocumentNewFormViewModel?._DistributionDocument?.ObjectDefID" [CurrentStateDefID]="distributionDocumentNewFormViewModel._DistributionDocument.CurrentStateDefID" [DropStateList]="DropStateList" (onSetState)="stateChange($event)" (onSaveChanges)="saveForm($event)" (onCancel)="NewFormCancel()" id="A6147" [SaveAndCloseCommandVisible]="saveAndCloseCommandVisible" [CloseWithStateTransition]="closeWithStateTransition" data-tid="A333146">
    </NeStatePanelComponent>

    <form id="DistributionDocumentNewForm" class="form-horizontal" role="form" data-tid="A333147"></form>
    <br id="A6148" data-tid="A333148" />
    <div class="row" id="A6149" data-tid="A333149">
        <div class="col-sm-3" id="A6150" data-tid="A333150">
            <label class="control-label " id="A6151" data-tid="A333151">
                İşlem Nu.
            </label>
            <hvl-text-box #Validation (TextChange)="onStockActionIDChanged($event)" [BackColor]="StockActionID?.BackColor" [CharacterCasing]="StockActionID?.CharacterCasing" [Enabled]="StockActionID?.Enabled" [Font]="StockActionID?.Font" [ForeColor]="StockActionID?.ForeColor" [height]="StockActionID?.Height" [InputFormat]="StockActionID?.InputFormat" [InputTurkishCharacter]="StockActionID?.InputTurkishCharacter" [IsNonNumeric]="StockActionID?.IsNonNumeric" [MultiLine]="StockActionID?.Multiline" [ReadOnly]="StockActionID?.ReadOnly" [Required]="StockActionID?.Required" [TabIndex]="StockActionID?.TabIndex" [TextAlign]="StockActionID?.TextAlign" [Text]="distributionDocumentNewFormViewModel?._DistributionDocument?.StockActionID" [Visible]="StockActionID?.Visible" id="A6152" data-tid="A333152"></hvl-text-box>
        </div>
        <div class="col-sm-3" id="A6153" data-tid="A333153">
            <label class="control-label " id="A6154" data-tid="A333154">
                İşlem Tarihi
            </label>
            <hvl-date-picker #Validation (ValueChange)="onTransactionDateChanged($event)" [BackColor]="TransactionDate?.BackColor" [CustomFormat]="TransactionDate?.CustomFormat" [Enabled]="TransactionDate?.Enabled" [Font]="TransactionDate?.Font" [ForeColor]="TransactionDate?.ForeColor" [Format]="TransactionDate?.Format" [Max]="TransactionDate?.Max" [Min]="TransactionDate?.Min" [ReadOnly]="TransactionDate?.ReadOnly" [Required]="TransactionDate?.Required" [TabIndex]="TransactionDate?.TabIndex" [Value]="distributionDocumentNewFormViewModel?._DistributionDocument?.TransactionDate" [Visible]="TransactionDate?.Visible" id="A6155" data-tid="A333155"></hvl-date-picker>
        </div>
        <div class="col-sm-3" id="A6156" data-tid="A333156">
            <label class="control-label " id="A6157" data-tid="A333157">
                Servis Depo
            </label>
            <hvl-list-box #Validation (SelectedObjectChange)="onDestinationStoreChanged($event)" [AutoCompleteDialogHeight]="DestinationStore?.AutoCompleteDialogHeight" [AutoCompleteDialogWidth]="DestinationStore?.AutoCompleteDialogWidth" [AutoCompleteMode]="DestinationStore?.AutoCompleteMode" [BackColor]="DestinationStore?.BackColor" [DefinitionName]="DestinationStore?.ListDefName" [DisplayExpressionsCache]="distributionDocumentNewFormViewModel?.ListDefDisplayExpressions" [Enabled]="DestinationStore?.Enabled" [Font]="DestinationStore?.Font" [ForeColor]="DestinationStore?.ForeColor" [ListFilterExpression]="DestinationStore?.ListFilterExpression" [MinSearchLength]="DestinationStore?.MinSearchLength" [PopupDialogFieldConfig]="DestinationStore?.PopupDialogFieldConfig" [PopupDialogGridColumns]="DestinationStore?.PopupDialogGridColumns" [PopupDialogHeight]="DestinationStore?.PopupDialogHeight" [PopupDialogTitle]="DestinationStore?.PopupDialogTitle" [PopupDialogWidth]="DestinationStore?.PopupDialogWidth" [ReadOnly]="DestinationStore?.ReadOnly" [SearchMode]="DestinationStore?.SearchMode" [SearchTimeout]="DestinationStore?.SearchTimeout" [SelectedObject]="distributionDocumentNewFormViewModel?._DistributionDocument?.DestinationStore" [TabIndex]="DestinationStore?.TabIndex" [Visible]="DestinationStore?.Visible" [width]="DestinationStore?.Width" id="A6158" data-tid="A333158"></hvl-list-box>
        </div>
        <div class="col-sm-3" id="A6159" data-tid="A333159">
            <label class="control-label " id="A6160" data-tid="A333160">
                Ana Depo
            </label>
            <hvl-list-box #Validation (SelectedObjectChange)="onStoreChanged($event)" [AutoCompleteDialogHeight]="Store?.AutoCompleteDialogHeight" [AutoCompleteDialogWidth]="Store?.AutoCompleteDialogWidth" [AutoCompleteMode]="Store?.AutoCompleteMode" [BackColor]="Store?.BackColor" [DefinitionName]="Store?.ListDefName" [DisplayExpressionsCache]="distributionDocumentNewFormViewModel?.ListDefDisplayExpressions" [Enabled]="Store?.Enabled" [Font]="Store?.Font" [ForeColor]="Store?.ForeColor" [ListFilterExpression]="Store?.ListFilterExpression" [MinSearchLength]="Store?.MinSearchLength" [PopupDialogFieldConfig]="Store?.PopupDialogFieldConfig" [PopupDialogGridColumns]="Store?.PopupDialogGridColumns" [PopupDialogHeight]="Store?.PopupDialogHeight" [PopupDialogTitle]="Store?.PopupDialogTitle" [PopupDialogWidth]="Store?.PopupDialogWidth" [ReadOnly]="Store?.ReadOnly" [SearchMode]="Store?.SearchMode" [SearchTimeout]="Store?.SearchTimeout" [SelectedObject]="distributionDocumentNewFormViewModel?._DistributionDocument?.Store" [TabIndex]="Store?.TabIndex" [Visible]="Store?.Visible" [width]="Store?.Width" id="A6161" data-tid="A333161">
            </hvl-list-box>
        </div>

    </div>
    <br id="A6162" data-tid="A333162" />
    <div class="row" id="A6163" data-tid="A333163">
        <div class="col-sm-2" id="A6164" data-tid="A333164">
            <label class="control-label" id="A6165" data-tid="A333165">
                İstek Yapan
            </label>
            <hvl-button-textbox (Clicked)="TTTeslimAlanButon_Click()" (TextChange)="onMKYS_TeslimAlanChanged($event)" [(Text)]="MKYS_TeslimAlan.Text" [BackColor]="MKYS_TeslimAlan?.BackColor" [ButtonEnabled]="MKYS_TeslimAlan?.ButtonEnabled" [ButtonOnRight]="MKYS_TeslimAlan?.ButtonOnRight" [ButtonText]="MKYS_TeslimAlan.ButtonText" [ButtonWidth]="MKYS_TeslimAlan?.ButtonWidth" [Enabled]="MKYS_TeslimAlan?.Enabled" [Font]="MKYS_TeslimAlan?.Font" [ForeColor]="MKYS_TeslimAlan?.ForeColor" [Icon]="MKYS_TeslimAlan?.Icon" [placeHolder]="MKYS_TeslimAlan?.placeHolder" [ReadOnly]="MKYS_TeslimAlan?.ReadOnly" [ShowClearButton]="MKYS_TeslimAlan?.ShowClearButton" [TabIndex]="MKYS_TeslimAlan?.TabIndex" [Type]="MKYS_TeslimAlan?.Type" [Visible]="MKYS_TeslimAlan?.Visible" id="A6166" data-tid="A333166"></hvl-button-textbox>
        </div>
        <div class="col-sm-2" id="A6167" data-tid="A333167">
            <label class="control-label" id="A6168" data-tid="A333168">
                Teslim Eden
            </label>
            <hvl-button-textbox (Clicked)="TTTeslimEdenButon_Click()" (TextChange)="onMKYS_TeslimEdenChanged($event)" [(Text)]="MKYS_TeslimEden.Text" [BackColor]="MKYS_TeslimEden?.BackColor" [ButtonEnabled]="MKYS_TeslimEden?.ButtonEnabled" [ButtonOnRight]="MKYS_TeslimEden?.ButtonOnRight" [ButtonText]="MKYS_TeslimEden.ButtonText" [ButtonWidth]="MKYS_TeslimEden?.ButtonWidth" [Enabled]="MKYS_TeslimEden?.Enabled" [Font]="MKYS_TeslimEden?.Font" [ForeColor]="MKYS_TeslimEden?.ForeColor" [Icon]="MKYS_TeslimEden?.Icon" [placeHolder]="MKYS_TeslimEden?.placeHolder" [ReadOnly]="MKYS_TeslimEden?.ReadOnly" [ShowClearButton]="MKYS_TeslimEden?.ShowClearButton" [TabIndex]="MKYS_TeslimEden?.TabIndex" [Type]="MKYS_TeslimEden?.Type" [Visible]="MKYS_TeslimEden?.Visible" id="A6169" data-tid="A333169"></hvl-button-textbox>
        </div>
        <div class="col-sm-2" id="A6170" data-tid="A333170">
            <br id="A6171" data-tid="A333171" />
            <hvl-button (BtnClicked)="AutoDistributionButton_Click()" [BackColor]="AutoDistributionButton?.BackColor" [Enabled]="AutoDistributionButton?.Enabled" [Font]="AutoDistributionButton?.Font" [ForeColor]="AutoDistributionButton?.ForeColor" [height]="AutoDistributionButton?.Height" [ReadOnly]="AutoDistributionButton?.ReadOnly" [TabIndex]="AutoDistributionButton?.TabIndex" [Text]="AutoDistributionButton?.Text" [Visible]="AutoDistributionButton?.Visible" id="A6172" data-tid="A333172">
            </hvl-button>
        </div>
        <div class="col-sm-2" id="A6173" data-tid="A333173">
            <br id="A6174" data-tid="A333174" />
            <dx-button type="btn btn-default" text="Çoklu Malzeme Seçimi" (onClick)="OpenMaterialMultiSelectComponent()" data-tid="A333175"></dx-button>
        </div>
        <div class="col-sm-2" data-tid="A333176">
            <br data-tid="A333177" />
            <dx-check-box [(value)]="IsEmergencyMaterial" [width]="150" text="Acil Malzeme İsteği" data-tid="A333178"></dx-check-box>
        </div>

        <div *ngIf="distributionDocumentNewFormViewModel.UTSEntegration" class="col-sm-2" data-tid="A333179">
            <br data-tid="A333180" />
            <dx-button type="btn btn-default" text="Hasta Bazlı Malzeme Seçimi" (onClick)="OpenPatientBasedMaterialSelectComponent()" data-tid="A333181"></dx-button>
        </div>
    </div>
    <br id="A6177" data-tid="A333182" />
    <div class="row" id="A6178" data-tid="A333183">
        <div class="col-sm-12" id="A6179" data-tid="A333184">
            <label class="control-label" id="A6180" data-tid="A333185">
                Açıklama
            </label>
            <hvl-text-box #Validation (TextChange)="onDescriptionChanged($event)" [BackColor]="Description?.BackColor" [CharacterCasing]="Description?.CharacterCasing" [Enabled]="Description?.Enabled" [Font]="Description?.Font" [ForeColor]="Description?.ForeColor" [height]="Description?.Height" [InputFormat]="Description?.InputFormat" [InputTurkishCharacter]="Description?.InputTurkishCharacter" [IsNonNumeric]="Description?.IsNonNumeric" [MultiLine]="Description?.Multiline" [ReadOnly]="Description?.ReadOnly" [Required]="Description?.Required" [TabIndex]="Description?.TabIndex" [TextAlign]="Description?.TextAlign" [Text]="distributionDocumentNewFormViewModel?._DistributionDocument?.Description" [Visible]="Description?.Visible" id="A6181" data-tid="A333186"></hvl-text-box>
        </div>
    </div>
    <br id="A6182" data-tid="A333187" />
    <div class="row" id="A6183" style="padding: 0 15px;" data-tid="A333188">
        <dx-tab-panel [selectedIndex]="0" id="A6184" data-tid="A333189">
            <dxi-item class="tabpanel-item" title="Taşınır Malın" i18n-title="@@M27509" id="A6185" data-tid="A333190">
                <div class="row" id="A6186" data-tid="A333191">
                    <div class="col-sm-12" id="A6187" data-tid="A333192">
                        <div class="col-sm-12" style="padding:10px 0 !important;" data-tid="A333193">
                            <div *ngIf="ShowNewMaterialList"class="col-sm-12">
                                <material-selector [input]="MaterialInput"></material-selector>
                            </div>
                            <div *ngIf="!ShowNewMaterialList" class="col-sm-12" style="margin: 10px 0;" data-tid="A333194">
                                <label class="control-label" data-tid="A333195">Malzeme Seçiniz</label>
                            </div>
                            <div  *ngIf="!ShowNewMaterialList" class="col-sm-12" style="margin-bottom: 10px;" data-tid="A333196">
                                <hvl-list-box [(SelectedObject)]="selectedMaterial" [AutoCompleteDialogHeight]="400" [AutoCompleteDialogWidth]="1500" [AutoCompleteMode]="MaterialDistributionDocumentMaterial?.AutoCompleteMode" [Enabled]="true" [BackColor]="MaterialDistributionDocumentMaterial?.BackColor" [DefinitionName]="MaterialDistributionDocumentMaterial?.ListDefName" [Font]="MaterialDistributionDocumentMaterial?.Font" [ForeColor]="MaterialDistributionDocumentMaterial?.ForeColor" [ListFilterExpression]="this.MaterialDistributionDocumentMaterial.ListFilterExpression" [MinSearchLength]="MaterialDistributionDocumentMaterial?.MinSearchLength" [PopupDialogFieldConfig]="MaterialDistributionDocumentMaterial?.PopupDialogFieldConfig" [PopupDialogGridColumns]="MaterialDistributionDocumentMaterial?.PopupDialogGridColumns" [PopupDialogHeight]="400" [PopupDialogTitle]="MaterialDistributionDocumentMaterial?.PopupDialogTitle" [PopupDialogWidth]="400" [ReadOnly]="MaterialDistributionDocumentMaterial?.ReadOnly" [SearchMode]="MaterialDistributionDocumentMaterial?.SearchMode" [SearchTimeout]="MaterialDistributionDocumentMaterial?.SearchTimeout" [TabIndex]="MaterialDistributionDocumentMaterial?.TabIndex" [Visible]="MaterialDistributionDocumentMaterial?.Visible" width="100%" (SelectedObjectChange)="onMaterialSelectionChange($event)" data-tid="A333197"></hvl-list-box>
                            </div>
                        </div>
                        <div *ngIf="!ShowNewMaterialList" class="col-sm-6" data-tid="A333198">
                            <br data-tid="A333199" />
                            <div class="row" data-tid="A333200">
                            </div>
                        </div>
                        <div class="col-sm-12" data-tid="A333201">
                            <dx-data-grid #distributionDocumentNewFormMaterialGrid id="distributionDocumentNewFormMaterialGrid" showColumnLines="true" showRowLines="true" rowAlternationEnabled="true" showBorders="true" height="500px" [dataSource]="distributionDocumentNewFormViewModel?._DistributionDocument?.DistributionDocumentMaterials" [columns]="DistributionDocumentMaterialsColumns" [scrolling]="{mode:'infinite'}" [selection]="{mode: 'single'}" (onRowUpdating)="materialGridRowUpdating($event)" data-tid="A333202">
                                <dxo-editing mode="cell" [allowUpdating]="true" [allowDeleting]="false" [allowAdding]="false" data-tid="A333203">
                                </dxo-editing>
                                <div *dxTemplate="let cellData of 'deleteCellTemplate'" id="A27832" data-tid="A333204">
                                    <i class="fa fa fa-trash" style="cursor:pointer" (click)="distributionDocumentNewFormMaterialGrid_CellContentClicked(cellData)" data-tid="A333205"></i>
                                </div>
                            </dx-data-grid>
                        </div>


                    </div>
                </div>
            </dxi-item>
        </dx-tab-panel>
    </div>

    <dx-popup width="1400px" height="800px" style="position: inherit;" [(visible)]="showMaterialMultiSelectForm" [closeOnOutsideClick]="false" title="Malzeme Listesi" i18n-title="@@M20728" id="A6189" data-tid="A333206">
        <div class="margin-bottom-10" id="A6190" data-tid="A333207">
            <div *dxTemplate="let data of 'content'" id="A6191" data-tid="A333208">
                <MaterialMultiSelectForm (SelectedMaterialsClear)="MaterialsCleared()" (SelectedMaterialsChanged)="MaterialsSelected($event)" [FilterByStockCard]="true" [ShowMuadilMedicineFilter]="true" [ClearListOnSave]="true" FilterByStockInheld="true" [StoreObjectId]="this._DistributionDocument?.Store?.ObjectID" ShowZeroOnDistributionInfo="{{this.ShowZeroOnDistributionInfo}}" id="A6192" data-tid="A333209">
                </MaterialMultiSelectForm>
            </div>
        </div>
    </dx-popup>


    <dx-popup class="popup" [width]="500" [height]="150" [showTitle]="true" title="Künye Numarası" [dragEnabled]="false" [closeOnOutsideClick]="true" [(visible)]="TagNoPopupVisible" data-tid="A333210">
        <div *dxTemplate="let data of 'content'" data-tid="A333211">
            <p data-tid="A333212">Malzeme Adı : {{ TagNoPopupMaterialName }}</p>
            <dx-text-box [hoverStateEnabled]="false" [(value)]="PopupTagNo" data-tid="A333213"></dx-text-box>
            <!--<input type="text" (value)="TagNo" style="width: 95%; margin: 0 10px;" />-->
            <div class="col-sm-3 m--margin-bottom-10 m--margin-top-10" style="float: right; padding-right: 0 !important;" data-tid="A333214">
                <dx-button style="float: right" type="default" text="Kaydet" (onClick)="inserTagNo()" data-tid="A333215"></dx-button>
            </div>
        </div>
    </dx-popup>



    <!--<dx-popup width="800px" height="900px" [(visible)]="showPatientBasedMaterialMultiSelectForm" [closeOnOutsideClick]="false" title="Hasta Bazlı Materyal Listesi"
        i18n-title="@@M20728" >
        <div class="margin-bottom-10" id="A6190">
            <div *dxTemplate="let data of 'content'">
                <PatientBasedMaterialSelectForm (SelectedMaterialsChanged)="MaterialsSelected($event)" [FilterByStockCard]="true" [ShowMuadilMedicineFilter]="true"
                    FilterByStockInheld="false" [StoreObjectId]="this._DistributionDocument?.Store?.ObjectID" MaterialQueryFilter="{{this.MaterialQueryFilter}}"
                ></PatientBasedMaterialSelectForm>
            </div>
        </div>
    </dx-popup>-->



</div>