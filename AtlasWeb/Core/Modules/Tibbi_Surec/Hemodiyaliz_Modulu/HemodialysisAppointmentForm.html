<div class="col-md-3" style="height: 100%;display: flex;flex-direction: column;" data-tid="A349883">
    <div class="panel panel-default margin-bottom-0" data-tid="A349884">
        <div class="panel-heading" data-tid="A349885">Seans Planlama</div>
        <div class="panel-body" data-tid="A349886">
            <div class="row" data-tid="A349887">
                <div class="col-md-12" data-tid="A349888">
                    <div class="row" data-tid="A349889">
                        <div class="col-md-12" data-tid="A349890">
                            <label class="control-label" data-tid="A349891">Başlangıç Tarihi</label>
                            <hvl-date-picker #Validation (ValueChange)="onTreatmentStartDateTimeChanged($event)" [BackColor]="TreatmentStartDateTime?.BackColor" [CustomFormat]="TreatmentStartDateTime?.CustomFormat" [Enabled]="TreatmentStartDateTime?.Enabled" [Font]="TreatmentStartDateTime?.Font" [ForeColor]="TreatmentStartDateTime?.ForeColor" [Format]="TreatmentStartDateTime?.Format" [Max]="TreatmentStartDateTime?.Max" [Min]="TreatmentStartDateTime?.Min" [ReadOnly]="TreatmentStartDateTime?.ReadOnly" [Required]="TreatmentStartDateTime?.Required" [TabIndex]="TreatmentStartDateTime?.TabIndex" [Value]="hemodialysisAppointmentFormViewModel._HemodialysisOrder.TreatmentStartDateTime" [Visible]="TreatmentStartDateTime?.Visible" data-tid="A349892">
                            </hvl-date-picker>
                        </div>
                        <div class="col-md-12" data-tid="A349893">
                            <label class="control-label" data-tid="A349894">Diyalize Girme Sıklığı</label>
                            <dx-select-box #dialysisFrequencySelectbox [dataSource]="hemodialysisAppointmentFormViewModel.SKRSDiyalizeGirmeSikligiList" [(value)]="hemodialysisAppointmentFormViewModel._HemodialysisOrder.DialysisFrequency" valueExpr="ObjectID" displayExpr="ADI" data-tid="A349895">
                            </dx-select-box>
                        </div>

                        <div class="col-md-6" data-tid="A349896">
                            <label class="control-label" data-tid="A349897">Seans Gün Aralığı</label>
                            <hvl-text-box #Validation (TextChange)="onSessionDayRangeChanged($event)" [BackColor]="SessionDayRange?.BackColor" [CharacterCasing]="SessionDayRange?.CharacterCasing" [Enabled]="SessionDayRange?.Enabled" [Font]="SessionDayRange?.Font" [ForeColor]="SessionDayRange?.ForeColor" [height]="SessionDayRange?.Height" [InputFormat]="SessionDayRange?.InputFormat" [InputTurkishCharacter]="SessionDayRange?.InputTurkishCharacter" [IsNonNumeric]="SessionDayRange?.IsNonNumeric" [MultiLine]="SessionDayRange?.Multiline" [ReadOnly]="SessionDayRange?.ReadOnly" [Required]="SessionDayRange?.Required" [TabIndex]="SessionDayRange?.TabIndex" [TextAlign]="SessionDayRange?.TextAlign" [Text]="hemodialysisAppointmentFormViewModel._HemodialysisOrder.SessionDayRange" [Visible]="SessionDayRange?.Visible" data-tid="A349898">
                            </hvl-text-box>
                        </div>
                        <div class="col-md-6" data-tid="A349899">
                            <label class="control-label" data-tid="A349900">Seans Gün Aralığı Tipi</label>
                            <hvl-enum-combobox #Validation (ValueChange)="onSessionDayRangeTypeChanged($event)" [BackColor]="SessionDayRangeType?.BackColor" [DataTypeName]="SessionDayRangeType?.DataTypeName" [Enabled]="SessionDayRangeType?.Enabled" [Font]="SessionDayRangeType?.Font" [ForeColor]="SessionDayRangeType?.ForeColor" [IncludeOnly]="SessionDayRangeType?.IncludeOnly" [ReadOnly]="SessionDayRangeType?.ReadOnly" [ShowClearButton]="SessionDayRangeType?.ShowClearButton" [SortBy]="SessionDayRangeType?.SortBy" [TabIndex]="SessionDayRangeType?.TabIndex" [Value]="hemodialysisAppointmentFormViewModel._HemodialysisOrder.SessionDayRangeType" [Visible]="SessionDayRangeType?.Visible" data-tid="A349901">
                            </hvl-enum-combobox>
                        </div>

                        <div class="col-md-12" data-tid="A349902">
                            <label class="control-label" data-tid="A349903">Seans Sayısı</label>
                            <hvl-text-box #Validation (TextChange)="onSessionCountChanged($event)" [BackColor]="SessionCount?.BackColor" [CharacterCasing]="SessionCount?.CharacterCasing" [Enabled]="SessionCount?.Enabled" [Font]="SessionCount?.Font" [ForeColor]="SessionCount?.ForeColor" [height]="SessionCount?.Height" [InputFormat]="SessionCount?.InputFormat" [InputTurkishCharacter]="SessionCount?.InputTurkishCharacter" [IsNonNumeric]="SessionCount?.IsNonNumeric" [MultiLine]="SessionCount?.Multiline" [ReadOnly]="SessionCount?.ReadOnly" [Required]="SessionCount?.Required" [TabIndex]="SessionCount?.TabIndex" [TextAlign]="SessionCount?.TextAlign" [Text]="hemodialysisAppointmentFormViewModel._HemodialysisOrder.SessionCount" [Visible]="SessionCount?.Visible" data-tid="A349904">
                            </hvl-text-box>
                        </div>

                        <div class="col-md-12" data-tid="A349905">
                            <label class="control-label" data-tid="A349906">İşlem</label>
                            <dx-select-box #packageProcedureSelectbox [items]="hemodialysisAppointmentFormViewModel.PackageProcedureList" [(value)]="hemodialysisAppointmentFormViewModel._HemodialysisOrder.PackageProcedure" valueExpr="ObjectID" displayExpr="Name" data-tid="A349907">
                            </dx-select-box>
                        </div>

                        <div class="col-md-12" data-tid="A349908">
                            <label class="control-label" data-tid="A349909">Cihaz</label>
                            <dx-select-box #treatmentEquipmentSelectbox [items]="hemodialysisAppointmentFormViewModel.TreatmentEquipmentList" [(value)]="hemodialysisAppointmentFormViewModel._HemodialysisOrder.TreatmentEquipment" valueExpr="ObjectID" displayExpr="Name" data-tid="A349910">
                            </dx-select-box>
                        </div>

                        <div class="col-md-6" data-tid="A349911">
                            <label class="control-label" data-tid="A349912">Süre</label>
                            <hvl-text-box #Validation (TextChange)="onDurationChanged($event)" [BackColor]="Duration?.BackColor" [CharacterCasing]="Duration?.CharacterCasing" [Enabled]="Duration?.Enabled" [Font]="Duration?.Font" [ForeColor]="Duration?.ForeColor" [height]="Duration?.Height" [InputFormat]="Duration?.InputFormat" [InputTurkishCharacter]="Duration?.InputTurkishCharacter" [IsNonNumeric]="Duration?.IsNonNumeric" [MultiLine]="Duration?.Multiline" [ReadOnly]="Duration?.ReadOnly" [Required]="Duration?.Required" [TabIndex]="Duration?.TabIndex" [TextAlign]="Duration?.TextAlign" [Text]="hemodialysisAppointmentFormViewModel._HemodialysisOrder.Duration" [Visible]="Duration?.Visible" data-tid="A349913">
                            </hvl-text-box>
                        </div>
                        <div class="col-md-6" data-tid="A349914">
                            <br data-tid="A349915" />
                            <hvl-checkbox #Validation (ValueChange)="onIsWeekendIncludeChanged($event)" [AllowThreeState]="IsWeekendInclude?.ThreeState" [BackColor]="IsWeekendInclude?.BackColor" [Enabled]="IsWeekendInclude?.Enabled" [Font]="IsWeekendInclude?.Font" [ForeColor]="IsWeekendInclude?.ForeColor" [IsTitleLeft]="IsWeekendInclude?.IsTitleLeft" [Margin]="IsWeekendInclude?.Margin" [ReadOnly]="IsWeekendInclude?.ReadOnly" [TabIndex]="IsWeekendInclude?.TabIndex" [TitleTopPadding]="IsWeekendInclude?.TitleTopPadding" [Title]="IsWeekendInclude?.Title" [Value]="hemodialysisAppointmentFormViewModel._HemodialysisOrder.IsWeekendInclude" [Visible]="IsWeekendInclude?.Visible" data-tid="A349916">
                            </hvl-checkbox>
                        </div>

                        <div class="col-md-12" data-tid="A349917">
                            <label class="control-label" data-tid="A349918">Açıklama</label>
                            <hvl-text-box #Validation (TextChange)="onInformationChanged($event)" [BackColor]="Information?.BackColor" [CharacterCasing]="Information?.CharacterCasing" [Enabled]="Information?.Enabled" [Font]="Information?.Font" [ForeColor]="Information?.ForeColor" [height]="Information?.Height" [InputFormat]="Information?.InputFormat" [InputTurkishCharacter]="Information?.InputTurkishCharacter" [IsNonNumeric]="Information?.IsNonNumeric" [MultiLine]="Information?.Multiline" [ReadOnly]="Information?.ReadOnly" [Required]="Information?.Required" [TabIndex]="Information?.TabIndex" [TextAlign]="Information?.TextAlign" [Text]="hemodialysisAppointmentFormViewModel._HemodialysisOrder.Information" [Visible]="Information?.Visible" data-tid="A349919">
                            </hvl-text-box>
                        </div>
                        <div class="col-md-12" data-tid="A349920">
                            <div class="row" data-tid="A349921">
                                <div class="col-md-4" data-tid="A349922">
                                    <label class="control-label" id="A26042" data-tid="A349923">Tarih</label>
                                    <dx-date-box [(value)]="hemodialysisAppointmentFormViewModel._Appointment.AppDate" displayFormat="dd/MM/yyyy" type="date" (onValueChanged)="onAppDateChanged($event)" id="A26047" data-tid="A349924"></dx-date-box>
                                </div>
                                <div class="col-md-4" data-tid="A349925">
                                    <label class="control-label" id="A26043" data-tid="A349926">Başlangıç Saati</label>
                                    <dx-date-box [(value)]="hemodialysisAppointmentFormViewModel._Appointment.StartTime" displayFormat="HH:mm" type="time" (onValueChanged)="onAppStartTimeChanged($event)" id="A26049" data-tid="A349927"></dx-date-box>
                                </div>
                                <div class="col-md-4" data-tid="A349928">
                                    <label class="control-label" id="A26044" data-tid="A349929">Bitiş Saati</label>
                                    <dx-date-box [(value)]="hemodialysisAppointmentFormViewModel._Appointment.EndTime" displayFormat="HH:mm" type="time" id="A26051" data-tid="A349930"></dx-date-box>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12" data-tid="A349931">
                            <dx-button class="pull-right" icon="save" type="default" (onClick)="saveClick()" text="Kaydet" data-tid="A349932"></dx-button>
                            <dx-button class="pull-right" icon="fa fa-undo" type="danger" (onClick)="cancelClick()" text="Vazgeç" data-tid="A349933"></dx-button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="panel panel-default" style="flex-grow: 1;" data-tid="A349934">
        <div class="panel-heading" data-tid="A349935">Hasta Listesi</div>
        <div class="panel-body" data-tid="A349936">
            <div class="row" data-tid="A349937">
                <div class="col-md-8" data-tid="A349938">
                    <label class="control-label" data-tid="A349939">Statü</label>
                    <dx-tag-box [(items)]="hemodialysisAppointmentFormViewModel.HemodialysisStateItems" [(value)]="hemodialysisAppointmentFormViewModel._hemodialysisSearchCriteria.HemodialysisState" placeholder="Statü" displayExpr="StateDefName" [multiline]="false" [showSelectionControls]="true" applyValueMode="useButtons" data-tid="A349940"></dx-tag-box>
                </div>
                <div class="col-md-4" data-tid="A349941">
                    <br data-tid="A349942" />
                    <dx-button type="default" icon="fa fa-bars" text="Listele" (onClick)="btnSearchClicked()" i18n-text="@@M27496" class="pull-right" data-tid="A349943"></dx-button>
                </div>
            </div>

            <div class="row" data-tid="A349944">
                <dx-data-grid id="hemodialysisListGrid" #hemodialysisListGrid [columns]="HemodialysisListColumns" [dataSource]="hemodialysisAppointmentFormViewModel.HemodialysisAppointmentItemList" (onRowClick)="select($event)" height="100%" allowColumnReordering="true" allowColumnResizing="true" [filterRow]="{visible: true}" style="padding-top: 10px;" [selection]="{mode: 'single',allowSelectAll: false, showCheckBoxesMode: 'none'}" [editing]="{mode: 'row' ,allowUpdating:false , allowAdding:false, allowDeleting:false}" data-tid="A349945">

                    <dxo-scrolling mode="virtual" id="A12721" data-tid="A349946"></dxo-scrolling>
                </dx-data-grid>
            </div>
        </div>
    </div>
</div>
<div class="col-md-9" style="height:98%" id="A26059" data-tid="A349947">
    <!--[(disabled)]="hemodialysisAppointmentFormViewModel.ReadOnly"-->
    <dx-tab-panel id="apptabs" [selectedIndex]="0" [animationEnabled]="false" style="height:100%!important;padding-top: 6px;" data-tid="A349948">
        <dxi-item *ngIf="isTakvim" title="Takvim" style="height:100%!important;" [template]="'denemeTemp'" data-tid="A349949">
            <dx-scheduler #detailScheduler height="100%" width="100%" [dataSource]="appointmentsData" dateCellTemplate="dateCellTemplate" [showAllDayPanel]="false" [views]="views" currentView="week" [currentDate]="currentDate" [firstDayOfWeek]="1" [startDayHour]="7" [endDayHour]="24" [cellDuration]="CellDurationForAppointMent" [crossScrollingEnabled]="true" resourceCellTemplate="resourceCellTemplate" appointmentTemplate="appointment-template" appointmentTooltipTemplate="tooltip-template" (onAppointmentClick)="onAppointmentClick($event)" (onAppointmentFormCreated)="onAppointmentFormCreated($event)" id="A26060" data-tid="A349950">
                <dxo-editing [allowAdding]="true" [allowResizing]="false" [allowDeleting]="true" [allowDragging]="true" [allowUpdating]="true" id="A26061" data-tid="A349951"></dxo-editing>
                <dxi-resource fieldExpr="masterOwnerObjectID" [allowMultiple]="false" [dataSource]="masterResourcesData" label="{{hemodialysisAppointmentFormViewModel.MasterResourceCaption}}" style="line-height:20px;font-size: 13px" id="A26062" data-tid="A349952">
                </dxi-resource>
                <dxi-resource fieldExpr="ownerObjectID" [allowMultiple]="false" [dataSource]="resourcesData" label="{{hemodialysisAppointmentFormViewModel.SubResourceCaption}}" style="line-height:20px;font-size: 13px" id="A26063" data-tid="A349953">
                </dxi-resource>
                <div *dxTemplate="let data of 'dateCellTemplate'" id="A26064" data-tid="A349954">
                    <div style="font-size: 13px; line-height: 20px" id="A26065" data-tid="A349955">{{['Pzr', 'Pts', 'Sal', 'Çrş', 'Prş', 'Cum', 'Cts'][data.date.getDay()]}}</div>
                    <div style="font-size: 15px; line-height: 15px" id="A26066" data-tid="A349956">{{data.date.getDate()}}</div>
                </div>
                <div *dxTemplate="let resource of 'resourceCellTemplate'" id="A26067" data-tid="A349957">
                    <div style="font-size: 13px; line-height: 20px" [style.background-color]="resource.color" id="A26068" data-tid="A349958">{{resource.text}}</div>
                </div>
                <div *dxTemplate="let givenAppointment of 'appointment-template'" id="A26069" data-tid="A349959">
                    <div style="font-size: 11px; color:#000000;line-height: 15px; white-space: normal; height:40px;" id="A26070" data-tid="A349960">{{givenAppointment.appointmentData.text}}</div>
                </div>
                <div *dxTemplate="let givenAppointment of 'tooltip-template'" id="A26071" data-tid="A349961">
                    <div *ngIf="givenAppointment.appointmentData.objectDefName == 'APPOINTMENT'" id="A26072" data-tid="A349962">
                        <div id="A26073" data-tid="A349963">
                            {{givenAppointment.appointmentData.text}}
                        </div>
                        <br id="A26074" data-tid="A349964" />
                        <div id="A26075" data-tid="A349965">
                            {{'Randevu Saati: ' +  (givenAppointment.appointmentData.startDate | date:'dd.MM.yyyy hh:mm')}}
                        </div>
                        <br id="A26076" data-tid="A349966" />
                        <div *ngIf="givenAppointment.appointmentData.enabled == true" id="A26077" data-tid="A349967">
                            <dx-button text='Güncelle' (onClick)='updateGivenAppointments(givenAppointment.appointmentData)' i18n-text="@@M15005" id="A26078" data-tid="A349968">
                            </dx-button>
                            <dx-button text='İptal Et' (onClick)='cancelAppointments(givenAppointment.appointmentData)' i18n-text="@@M16552" id="A26079" data-tid="A349969">
                            </dx-button>
                        </div>
                    </div>
                    <div *ngIf="givenAppointment.appointmentData.objectDefName == 'SCHEDULE'" id="A26080" data-tid="A349970">
                        <div id="A26081" data-tid="A349971">
                            {{givenAppointment.appointmentData.text}}
                        </div>
                        <div *ngIf="givenAppointment.appointmentData.text != 'ÇALIŞILMAYAN SAAT'" id="A26082" data-tid="A349972">
                            <div id="A26083" data-tid="A349973">
                                {{'Randevu Saati: ' +  (givenAppointment.appointmentData.startDate | date:'dd.MM.yyyy hh:mm')}}
                            </div>
                            <br id="A26084" data-tid="A349974" />
                            <dx-button type="default" text='Randevu Ver' (onClick)='giveAppointments(givenAppointment.appointmentData)' i18n-text="@@M20749" id="A26085" data-tid="A349975">
                            </dx-button>
                        </div>
                    </div>
                </div>
            </dx-scheduler>
            <dx-context-menu #cellMenu [dataSource]="cellContextMenuItems" target=".dx-scheduler-date-table-cell" (onItemClick)="onContextMenuItemClick($event)" [width]="200" data-tid="A349976">
            </dx-context-menu>
        </dxi-item>
    </dx-tab-panel>
</div>


<dx-popup width="700px" height="650px" [(visible)]="showUpdateAppointmentPopup" [closeOnOutsideClick]="false" title="Randevu Güncelleme" data-tid="A349977">
    <div *dxTemplate="let data of 'content'" id="A24160" data-tid="A349978">
        <comp-compose [Info]="componentUpdateAppointmentInfo" data-tid="A349979"></comp-compose>

        <div class="row" data-tid="A349980">
            <div class="col-md-4" data-tid="A349981">
                <label class="control-label" id="A26042" data-tid="A349982">Tarih</label>
                <dx-date-box [(value)]="hemodialysisAppointmentFormViewModel?._GivenHemodialysisAppointmentDVO?._Appointment.AppDate" displayFormat="dd/MM/yyyy" type="date" (onValueChanged)="onAppDateChanged($event)" id="A26047" data-tid="A349983"></dx-date-box>
            </div>
            <div class="col-md-4" data-tid="A349984">
                <label class="control-label" id="A26043" data-tid="A349985">Başlangıç Saati</label>
                <dx-date-box [(value)]="hemodialysisAppointmentFormViewModel?._GivenHemodialysisAppointmentDVO?._Appointment.StartTime" displayFormat="HH:mm" type="time" (onValueChanged)="onAppStartTimeChanged($event)" id="A26049" data-tid="A349986"></dx-date-box>
            </div>
            <div class="col-md-4" data-tid="A349987">
                <label class="control-label" id="A26044" data-tid="A349988">Bitiş Saati</label>
                <dx-date-box [(value)]="hemodialysisAppointmentFormViewModel?._GivenHemodialysisAppointmentDVO?._Appointment.EndTime" displayFormat="HH:mm" type="time" id="A26051" data-tid="A349989"></dx-date-box>
            </div>

            <div class="col-md-12" data-tid="A349990">
                <dx-button class="pull-right" icon="save" type="default" (onClick)="updateClick()" text="Güncelle" data-tid="A349991"></dx-button>
                <dx-button class="pull-right" icon="fa fa-undo" type="danger" (onClick)="cancelupdateClick()" text="Vazgeç" data-tid="A349992"></dx-button>
            </div>
        </div>
    </div>
</dx-popup>

<dx-load-panel class="highz" shadingColor="rgba(0,0,0,0.4)" [(visible)]="showLoadPanel" [showIndicator]="true" [showPane]="true" [shading]="true" [closeOnOutsideClick]="false" [(message)]="LoadPanelMessage" id="A12724" data-tid="A349993">
</dx-load-panel>

