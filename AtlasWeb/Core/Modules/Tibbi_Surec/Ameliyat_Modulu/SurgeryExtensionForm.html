

<NeStatePanelComponent [OutgoingTransitions]="surgeryExtensionFormViewModel?.OutgoingTransitions" [StateReports]="surgeryExtensionFormViewModel?.CurrentStateReports" [ObjectID]="surgeryExtensionFormViewModel?._SurgeryExtension?.ObjectID" [ObjectDefID]="surgeryExtensionFormViewModel?._SurgeryExtension?.ObjectDefID" [CurrentStateDefID]="surgeryExtensionFormViewModel._SurgeryExtension.CurrentStateDefID" [DropStateList]="DropStateList" (onSetState)="setStateToTransition($event)" (onSaveChanges)="saveForm($event)" id="A9720" [SaveAndCloseCommandVisible]="saveAndCloseCommandVisible" [CloseWithStateTransition]="closeWithStateTransition" data-tid="A339135">
</NeStatePanelComponent>
<div class="container-fluid" id="A9721" data-tid="A339136">
    <form id="SurgeryExtensionForm" class="form-horizontal" role="form" data-tid="A339137"></form>

    <div class="row" id="A9722" data-tid="A339138">
        <div class="col-md-4 col-sm-12" id="A9723" data-tid="A339139">
            <patient-demographics-form [actionId]="surgeryExtensionFormViewModel?._SurgeryExtension.ObjectID" id="A9724" data-tid="A339140"></patient-demographics-form>
        </div>
        <div class="col-md-2 col-sm-12" id="A9725" data-tid="A339141">
            <div class="row" id="A9726" data-tid="A339142">
                <div class="col-md-12" id="A9727" data-tid="A339143">
                    <label class="control-label" id="A9728" data-tid="A339144"> Sorumlu Cerrah(1.Cerrah)</label>
                    <hvl-list-box #Validation (SelectedObjectChange)="onProcedureDoctorChanged($event)" [AutoCompleteDialogHeight]="ProcedureDoctor?.AutoCompleteDialogHeight" [AutoCompleteDialogWidth]="ProcedureDoctor?.AutoCompleteDialogWidth" [AutoCompleteMode]="ProcedureDoctor?.AutoCompleteMode" [BackColor]="ProcedureDoctor?.BackColor" [DefinitionName]="ProcedureDoctor?.ListDefName" [DisplayExpressionsCache]="surgeryExtensionFormViewModel?.ListDefDisplayExpressions" [Enabled]="ProcedureDoctor?.Enabled" [Font]="ProcedureDoctor?.Font" [ForeColor]="ProcedureDoctor?.ForeColor" [ListFilterExpression]="ProcedureDoctor?.ListFilterExpression" [MinSearchLength]="ProcedureDoctor?.MinSearchLength" [PopupDialogFieldConfig]="ProcedureDoctor?.PopupDialogFieldConfig" [PopupDialogGridColumns]="ProcedureDoctor?.PopupDialogGridColumns" [PopupDialogHeight]="ProcedureDoctor?.PopupDialogHeight" [PopupDialogTitle]="ProcedureDoctor?.PopupDialogTitle" [PopupDialogWidth]="ProcedureDoctor?.PopupDialogWidth" [ReadOnly]="ProcedureDoctor?.ReadOnly" [SearchMode]="ProcedureDoctor?.SearchMode" [SearchTimeout]="ProcedureDoctor?.SearchTimeout" [SelectedObject]="surgeryExtensionFormViewModel?._SurgeryExtension?.MainSurgery?.ProcedureDoctor" [TabIndex]="ProcedureDoctor?.TabIndex" [Visible]="ProcedureDoctor?.Visible" [width]="ProcedureDoctor?.Width" id="A9729" data-tid="A339145"></hvl-list-box>
                </div>
            </div>
            <div class="row" id="A9730" data-tid="A339146">
                <div class="col-md-12" id="A9731" data-tid="A339147">
                    <label class="control-label" id="A9732" data-tid="A339148">Ameliyathane</label>
                    <hvl-list-box #Validation (SelectedObjectChange)="onMasterResourceChanged($event)" [AutoCompleteDialogHeight]="MasterResource?.AutoCompleteDialogHeight" [AutoCompleteDialogWidth]="MasterResource?.AutoCompleteDialogWidth" [AutoCompleteMode]="MasterResource?.AutoCompleteMode" [BackColor]="MasterResource?.BackColor" [DefinitionName]="MasterResource?.ListDefName" [DisplayExpressionsCache]="surgeryExtensionFormViewModel?.ListDefDisplayExpressions" [Enabled]="MasterResource?.Enabled" [Font]="MasterResource?.Font" [ForeColor]="MasterResource?.ForeColor" [ListFilterExpression]="MasterResource?.ListFilterExpression" [MinSearchLength]="MasterResource?.MinSearchLength" [PopupDialogFieldConfig]="MasterResource?.PopupDialogFieldConfig" [PopupDialogGridColumns]="MasterResource?.PopupDialogGridColumns" [PopupDialogHeight]="MasterResource?.PopupDialogHeight" [PopupDialogTitle]="MasterResource?.PopupDialogTitle" [PopupDialogWidth]="MasterResource?.PopupDialogWidth" [ReadOnly]="MasterResource?.ReadOnly" [SearchMode]="MasterResource?.SearchMode" [SearchTimeout]="MasterResource?.SearchTimeout" [SelectedObject]="surgeryExtensionFormViewModel?._SurgeryExtension?.MainSurgery?.MasterResource" [TabIndex]="MasterResource?.TabIndex" [Visible]="MasterResource?.Visible" [width]="MasterResource?.Width" id="A9733" data-tid="A339149"></hvl-list-box>
                </div>
            </div>
            <div class="row" id="A9734" data-tid="A339150">
                <div class="col-md-12" id="A9735" data-tid="A339151">
                    <label class="control-label" id="A9736" data-tid="A339152">Salon</label>
                    <hvl-list-box #Validation (SelectedObjectChange)="onSurgeryRoomChanged($event)" [AutoCompleteDialogHeight]="SurgeryRoom?.AutoCompleteDialogHeight" [AutoCompleteDialogWidth]="SurgeryRoom?.AutoCompleteDialogWidth" [AutoCompleteMode]="SurgeryRoom?.AutoCompleteMode" [BackColor]="SurgeryRoom?.BackColor" [DefinitionName]="SurgeryRoom?.ListDefName" [DisplayExpressionsCache]="surgeryExtensionFormViewModel?.ListDefDisplayExpressions" [Enabled]="SurgeryRoom?.Enabled" [Font]="SurgeryRoom?.Font" [ForeColor]="SurgeryRoom?.ForeColor" [ListFilterExpression]="SurgeryRoom?.ListFilterExpression" [MinSearchLength]="SurgeryRoom?.MinSearchLength" [PopupDialogFieldConfig]="SurgeryRoom?.PopupDialogFieldConfig" [PopupDialogGridColumns]="SurgeryRoom?.PopupDialogGridColumns" [PopupDialogHeight]="SurgeryRoom?.PopupDialogHeight" [PopupDialogTitle]="SurgeryRoom?.PopupDialogTitle" [PopupDialogWidth]="SurgeryRoom?.PopupDialogWidth" [ReadOnly]="SurgeryRoom?.ReadOnly" [SearchMode]="SurgeryRoom?.SearchMode" [SearchTimeout]="SurgeryRoom?.SearchTimeout" [SelectedObject]="surgeryExtensionFormViewModel?._SurgeryExtension?.MainSurgery?.SurgeryRoom" [TabIndex]="SurgeryRoom?.TabIndex" [Visible]="SurgeryRoom?.Visible" [width]="SurgeryRoom?.Width" id="A9737" data-tid="A339153"></hvl-list-box>
                </div>
            </div>
            <div class="row" id="A9738" data-tid="A339154">
                <div class="col-md-12" id="A9739" data-tid="A339155">
                    <label class="control-label" id="A9740" data-tid="A339156">Masa</label>
                    <hvl-list-box #Validation (SelectedObjectChange)="onSurgeryDeskChanged($event)" [AutoCompleteDialogHeight]="SurgeryDesk?.AutoCompleteDialogHeight" [AutoCompleteDialogWidth]="SurgeryDesk?.AutoCompleteDialogWidth" [AutoCompleteMode]="SurgeryDesk?.AutoCompleteMode" [BackColor]="SurgeryDesk?.BackColor" [DefinitionName]="SurgeryDesk?.ListDefName" [DisplayExpressionsCache]="surgeryExtensionFormViewModel?.ListDefDisplayExpressions" [Enabled]="SurgeryDesk?.Enabled" [Font]="SurgeryDesk?.Font" [ForeColor]="SurgeryDesk?.ForeColor" [ListFilterExpression]="SurgeryDesk?.ListFilterExpression" [MinSearchLength]="SurgeryDesk?.MinSearchLength" [PopupDialogFieldConfig]="SurgeryDesk?.PopupDialogFieldConfig" [PopupDialogGridColumns]="SurgeryDesk?.PopupDialogGridColumns" [PopupDialogHeight]="SurgeryDesk?.PopupDialogHeight" [PopupDialogTitle]="SurgeryDesk?.PopupDialogTitle" [PopupDialogWidth]="SurgeryDesk?.PopupDialogWidth" [ReadOnly]="SurgeryDesk?.ReadOnly" [SearchMode]="SurgeryDesk?.SearchMode" [SearchTimeout]="SurgeryDesk?.SearchTimeout" [SelectedObject]="surgeryExtensionFormViewModel?._SurgeryExtension?.MainSurgery?.SurgeryDesk" [TabIndex]="SurgeryDesk?.TabIndex" [Visible]="SurgeryDesk?.Visible" [width]="SurgeryDesk?.Width" id="A9741" data-tid="A339157"></hvl-list-box>
                </div>
            </div>
        </div>
        <div class="col-md-6 col-sm-12" id="A9742" data-tid="A339158">
            <DiagnosisGridReadOnlyForm [EpisodeAction]="surgeryExtensionFormViewModel?._SurgeryExtension" id="A9743" data-tid="A339159"></DiagnosisGridReadOnlyForm>
        </div>
    </div>
    <div class="row" id="A9744" data-tid="A339160">
        <div class="col-sm-3" id="A9745" data-tid="A339161">
            <label class="control-label" id="A9746" data-tid="A339162"> Ameliyatı Başlatma Tarih/Saat</label>
            <hvl-date-picker #Validation (ValueChange)="onSurgeryStartTimeChanged($event)" [BackColor]="SurgeryStartTime?.BackColor" [CustomFormat]="SurgeryStartTime?.CustomFormat" [Enabled]="SurgeryStartTime?.Enabled" [Font]="SurgeryStartTime?.Font" [ForeColor]="SurgeryStartTime?.ForeColor" [Format]="SurgeryStartTime?.Format" [Max]="SurgeryStartTime?.Max" [Min]="SurgeryStartTime?.Min" [ReadOnly]="SurgeryStartTime?.ReadOnly" [Required]="SurgeryStartTime?.Required" [TabIndex]="SurgeryStartTime?.TabIndex" [Value]="surgeryExtensionFormViewModel?._SurgeryExtension?.MainSurgery?.SurgeryStartTime" [Visible]="SurgeryStartTime?.Visible" id="A9747" data-tid="A339163"></hvl-date-picker>
        </div>
        <div class="col-sm-3" id="A9748" data-tid="A339164">
            <label class="control-label" id="A9749" data-tid="A339165"> Ameliyatı Bitirme Tarih/Saat </label>
            <hvl-date-picker #Validation (ValueChange)="onSurgeryEndTimeChanged($event)" [BackColor]="SurgeryEndTime?.BackColor" [CustomFormat]="SurgeryEndTime?.CustomFormat" [Enabled]="SurgeryEndTime?.Enabled" [Font]="SurgeryEndTime?.Font" [ForeColor]="SurgeryEndTime?.ForeColor" [Format]="SurgeryEndTime?.Format" [Max]="SurgeryEndTime?.Max" [Min]="SurgeryEndTime?.Min" [ReadOnly]="SurgeryEndTime?.ReadOnly" [Required]="SurgeryEndTime?.Required" [TabIndex]="SurgeryEndTime?.TabIndex" [Value]="surgeryExtensionFormViewModel?._SurgeryExtension?.MainSurgery?.SurgeryEndTime" [Visible]="SurgeryEndTime?.Visible" id="A9750" data-tid="A339166"></hvl-date-picker>
        </div>
        <div class="col-sm-2" id="A9751" data-tid="A339167">
            <label class="control-label" id="A9752" data-tid="A339168"> Protokol No </label>
            <hvl-text-box #Validation (TextChange)="onProtocolNoChanged($event)" [BackColor]="ProtocolNo?.BackColor" [CharacterCasing]="ProtocolNo?.CharacterCasing" [Enabled]="ProtocolNo?.Enabled" [Font]="ProtocolNo?.Font" [ForeColor]="ProtocolNo?.ForeColor" [height]="ProtocolNo?.Height" [InputFormat]="ProtocolNo?.InputFormat" [InputTurkishCharacter]="ProtocolNo?.InputTurkishCharacter" [IsNonNumeric]="ProtocolNo?.IsNonNumeric" [MultiLine]="ProtocolNo?.Multiline" [ReadOnly]="ProtocolNo?.ReadOnly" [Required]="ProtocolNo?.Required" [TabIndex]="ProtocolNo?.TabIndex" [TextAlign]="ProtocolNo?.TextAlign" [Text]="surgeryExtensionFormViewModel?._SurgeryExtension?.MainSurgery?.ProtocolNo" [Visible]="ProtocolNo?.Visible" id="A9753" data-tid="A339169"></hvl-text-box>
        </div>
    </div>

    <div class="row" id="A9754" data-tid="A339170">
        <div class="col-sm-6" id="A9854" data-tid="A339171">
            <hvl-datagrid #gridSurgeryPersonnelsMain [AllowUserToAddRows]="GridSurgeryPersonnels?.AllowUserToAddRows" [AllowUserToDeleteRows]="GridSurgeryPersonnels?.AllowUserToDeleteRows" [Columns]="GridSurgeryPersonnelsColumns" [dataSource]="surgeryExtensionFormViewModel?._SurgeryExtension?.MainSurgery?.AllSurgeryPersonnels" [DeleteButtonWidth]="GridSurgeryPersonnels?.DeleteButtonWidth" [DisplayExpressionsCache]="surgeryExtensionFormViewModel?._SurgeryExtension?.ListDefDisplayExpressions" [EnableFilter]="GridSurgeryPersonnels?.ShowFilterRow" [FilterColumnName]="GridSurgeryPersonnels?.FilterColumnName" [FilterLabel]="GridSurgeryPersonnels?.FilterLabel" [Filter]="GridSurgeryPersonnels?.Filter" [height]="GridSurgeryPersonnels?.Height" [IsFilterLabelSingleLine]="GridSurgeryPersonnels?.IsFilterLabelSingleLine" [ShowColumnHeaders]="GridSurgeryPersonnels?.ColumnHeadersVisible" [ShowFilterCombo]="GridSurgeryPersonnels?.ShowFilterCombo" [ShowTotalNumberOfRows]="GridSurgeryPersonnels?.ShowTotalNumberOfRows" [ComfirmAddRowByFilterSelection]="ComfirmAddRowByPersonelFilterSelectionFunc" (SelectedFilterChanged)="personnelSelectedFilterChanged($event)" id="A9855" data-tid="A339172"></hvl-datagrid>
        </div>
        <div class="col-sm-6" id="A9758" data-tid="A339173">
            <label id="A9759" data-tid="A339174"> Ameliyatlar </label>
            <hvl-datagrid [AllowUserToAddRows]="GridMainSurgeryProcedures?.AllowUserToAddRows" [AllowUserToDeleteRows]="GridMainSurgeryProcedures?.AllowUserToDeleteRows" [Columns]="GridMainSurgeryProceduresColumns" [dataSource]="surgeryExtensionFormViewModel?._SurgeryExtension?.MainSurgery?.MainSurgeryProcedures" [DeleteButtonWidth]="GridMainSurgeryProcedures?.DeleteButtonWidth" [DisplayExpressionsCache]="surgeryExtensionFormViewModel?.ListDefDisplayExpressions" [EnableFilter]="GridMainSurgeryProcedures?.ShowFilterRow" [FilterColumnName]="GridMainSurgeryProcedures?.FilterColumnName" [FilterLabel]="GridMainSurgeryProcedures?.FilterLabel" [Filter]="GridMainSurgeryProcedures?.Filter" [height]="GridMainSurgeryProcedures?.Height" [IsFilterLabelSingleLine]="GridMainSurgeryProcedures?.IsFilterLabelSingleLine" [ShowColumnHeaders]="GridMainSurgeryProcedures?.ColumnHeadersVisible" [ShowFilterCombo]="GridMainSurgeryProcedures?.ShowFilterCombo" [ShowTotalNumberOfRows]="GridMainSurgeryProcedures?.ShowTotalNumberOfRows" [CancelByDeleteButton]="true" id="A9760" data-tid="A339175"></hvl-datagrid>
        </div>
    </div>
    <div class="row" id="A9761" data-tid="A339176">
        <div class="col-sm-6" id="A9755" data-tid="A339177">
            <label id="A9756" data-tid="A339178"> Planlanan Ameliyat Açıklaması </label>
            <hvl-text-box #Validation (TextChange)="onPlannedSurgeryDescriptionChanged($event)" [BackColor]="PlannedSurgeryDescription?.BackColor" [CharacterCasing]="PlannedSurgeryDescription?.CharacterCasing" [Enabled]="PlannedSurgeryDescription?.Enabled" [Font]="PlannedSurgeryDescription?.Font" [ForeColor]="PlannedSurgeryDescription?.ForeColor" [height]="PlannedSurgeryDescription?.Height" [InputFormat]="PlannedSurgeryDescription?.InputFormat" [InputTurkishCharacter]="PlannedSurgeryDescription?.InputTurkishCharacter" [IsNonNumeric]="PlannedSurgeryDescription?.IsNonNumeric" [MultiLine]="PlannedSurgeryDescription?.Multiline" [ReadOnly]="PlannedSurgeryDescription?.ReadOnly" [Required]="PlannedSurgeryDescription?.Required" [TabIndex]="PlannedSurgeryDescription?.TabIndex" [TextAlign]="PlannedSurgeryDescription?.TextAlign" [Text]="surgeryExtensionFormViewModel?._SurgeryExtension?.MainSurgery?.PlannedSurgeryDescription" [Visible]="PlannedSurgeryDescription?.Visible" id="A9757" data-tid="A339179"></hvl-text-box>
        </div>
        <div class="col-sm-6" id="A9762" data-tid="A339180">
            <label class="control-label" id="A9763" data-tid="A339181">Ön Hazırlık İçin Direktifler</label>
            <hvl-richtextbox (change)="onttrichtextboxcontrol2Changed($event)" [ngModelOptions]="{ standalone: true}" [ngModel]="surgeryExtensionFormViewModel?._SurgeryExtension?.MainSurgery?.DescriptionToPreOp" [ReadOnly]="ttrichtextboxcontrol2?.ReadOnly" [TemplateGroupName]="ttrichtextboxcontrol2?.TemplateGroupName" [Visible]="ttrichtextboxcontrol2?.Visible" id="A9764" data-tid="A339182"></hvl-richtextbox>
        </div>
        <div class="col-sm-6" id="A9768" data-tid="A339183">
            <label class="control-label" id="A9769" data-tid="A339184">Ameliyat Öncesi Vital Bulgular</label>
            <VitalSingsForm [vitalSingsFormViewModel]="surgeryExtensionFormViewModel?.vitalSingsViewModel" [IsReadOnly]="ReadOnly" id="A9770" data-tid="A339185"></VitalSingsForm>
        </div>
        <div class="col-sm-6" id="A9765" data-tid="A339186">
            <label class="control-label" id="A9766" data-tid="A339187">Ön Hazırlık Açıklamaları</label>
            <hvl-richtextbox (change)="onttrichtextboxcontrol1Changed($event)" [ngModelOptions]="{ standalone: true}" [ngModel]="surgeryExtensionFormViewModel?._SurgeryExtension?.MainSurgery?.PreOpDescriptions" [ReadOnly]="ttrichtextboxcontrol1?.ReadOnly" [TemplateGroupName]="ttrichtextboxcontrol1?.TemplateGroupName" [Visible]="ttrichtextboxcontrol1?.Visible" id="A9767" data-tid="A339188"></hvl-richtextbox>
        </div>
    </div>
    <ul class="nav nav-tabs" id="A9771" data-tid="A339189">
        <li class="active" id="A9772" data-tid="A339190">
            <a data-toggle="tab" href="#mainTreatmentMaterial" id="A9773" data-tid="A339191">
                <span id="A9774" data-tid="A339192">Ameliyat Sarfı</span>
            </a>
        </li>
        <li id="A9775" data-tid="A339193">
            <a data-toggle="tab" href="#treatmentMaterial" id="A9776" data-tid="A339194">
                <span id="A9777" data-tid="A339195">Cerrahi Sarf</span>
            </a>
        </li>
        <li id="A9775" data-tid="A339196">
            <a data-toggle="tab" href="#directPurchaseGrid" id="A9776" data-tid="A339197">
                <span id="A9777" data-tid="A339198">Dogrudan Teminle Alinan Malzemeler</span>
            </a>
        </li>
        <li id="A9778" data-tid="A339199">
            <a data-toggle="tab" href="#procedures" id="A9779" data-tid="A339200">
                <span id="A9780" data-tid="A339201">Ek Hizmet</span>
            </a>
        </li>
    </ul>
    <div class="tab-content" style="background-color:#fff;" id="A9781" data-tid="A339202">
        <div id="mainTreatmentMaterial" class="tab-pane fade in active" data-tid="A339203">
            <div class="col-sm-12" id="A9782" data-tid="A339204">
                <TreatmentMaterialForm [SelectStoreFromUserStore]="true" [EpisodeAction]="surgeryExtensionFormViewModel?._SurgeryExtension?.MainSurgery" [TreatmentMaterialGridList]="surgeryExtensionFormViewModel?.SurgeryExpendsSurgeryExpendGridList" [IncludeDrugDefinition]="true" [IsReadOnly]="ReadOnly" id="A9783" data-tid="A339205"></TreatmentMaterialForm>
            </div>

        </div>
        <div id="treatmentMaterial" class="tab-pane fade" data-tid="A339206">
            <div class="col-sm-12" id="A9782" data-tid="A339207">
                <TreatmentMaterialForm [SelectStoreFromUserStore]="true" [EpisodeAction]="surgeryExtensionFormViewModel?._SurgeryExtension" [TreatmentMaterialGridList]="surgeryExtensionFormViewModel?._SurgeryExtension.SurgeryExtensionExpends" [IncludeDrugDefinition]="true" [IsReadOnly]="ReadOnly" id="A9783" data-tid="A339208"></TreatmentMaterialForm>
            </div>

        </div>
        <div id="directPurchaseGrid" class="tab-pane fade" data-tid="A339209">
            <div class="col-sm-12" id="A9784" data-tid="A339210">
                <hvl-datagrid [AllowUserToAddRows]="DirectPurchaseGrids?.AllowUserToAddRows" [AllowUserToDeleteRows]="DirectPurchaseGrids?.AllowUserToDeleteRows" [Columns]="DirectPurchaseGridsColumns" [dataSource]="surgeryExtensionFormViewModel?._SurgeryExtension?.DirectPurchaseGrids" [DeleteButtonWidth]="DirectPurchaseGrids?.DeleteButtonWidth" [DisplayExpressionsCache]="surgeryExtensionFormViewModel?.ListDefDisplayExpressions" [EnableFilter]="DirectPurchaseGrids?.ShowFilterRow" [FilterColumnName]="DirectPurchaseGrids?.FilterColumnName" [FilterLabel]="DirectPurchaseGrids?.FilterLabel" [Filter]="DirectPurchaseGrids?.Filter" [height]="DirectPurchaseGrids?.Height" [IsFilterLabelSingleLine]="DirectPurchaseGrids?.IsFilterLabelSingleLine" [ShowColumnHeaders]="DirectPurchaseGrids?.ColumnHeadersVisible" [ShowFilterCombo]="DirectPurchaseGrids?.ShowFilterCombo" [ShowTotalNumberOfRows]="DirectPurchaseGrids?.ShowTotalNumberOfRows" [ReadOnly]="DirectPurchaseGrids?.ReadOnly" id="A9785" data-tid="A339211"></hvl-datagrid>
            </div>
        </div>
        <div id="procedures" class="tab-pane fade" data-tid="A339212">
            <div class="col-sm-12" id="A9786" data-tid="A339213">
                <requested-procedures-form style="height:100%!important;display:block;" [EpisodeAction]="surgeryExtensionFormViewModel?._SurgeryExtension" [IsReadOnly]="ReadOnly" id="A9787" data-tid="A339214"></requested-procedures-form>
            </div>
        </div>
    </div>
</div>
