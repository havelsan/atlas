<!-- <NeStatePanelComponent [ObjectDefID]="medicalOncologySpecialityFormViewModel._MedicalOncology.ObjectDefID" [CurrentStateDefID]="medicalOncologySpecialityFormViewModel._MedicalOncology.CurrentStateDefID" (onSetState)="setState($event)" (onSaveChanges)="save($event)" >
</NeStatePanelComponent>-->
<div class="container-fluid" data-tid="A358679">
	<form id="MedicalOncologySpecialityForm" class="form-horizontal" role="form" data-tid="A358680">
	</form>

	<legend style="border-bottom:1px solid #FFAB00;" id="A19320" data-tid="A358681">Medikal Onkoloji</legend>
	<div class="col-md-12" data-tid="A358682">

		<div class="row" id="A1589" data-tid="A358683">
			<label class="control-label col-sm-2" data-tid="A358684">
				Tanı Tarihi </label>
		</div>
		<div class="row" data-tid="A358685">
			<div class="col-sm-2" data-tid="A358686">
				<dx-date-box width="100%" type="date" [(value)]="medicalOncologySpecialityFormViewModel.DiagnoseDate" id="A1592" [readOnly]="true" data-tid="A358687">
				</dx-date-box>
			</div>
		</div>

		<br data-tid="A358688" />

		<div class="row" data-tid="A358689">
			<label class="control-label col-sm-6" data-tid="A358690">
				Tedavi Öncesi Evreleme </label>
			<label class="control-label col-sm-6" data-tid="A358691">
				Ara Değerlendirme </label>
		</div>
		<div class="row" data-tid="A358692">
			<div class="col-sm-6" data-tid="A358693">
				<hvl-richtextbox (change)="onPreTreatmentStagingChanged($event)" [ngModelOptions]="{ standalone: true }" [ngModel]="_MedicalOncology.PreTreatmentStaging" [ReadOnly]="PreTreatmentStaging?.ReadOnly" [TemplateGroupName]="PreTreatmentStaging?.TemplateGroupName" [Visible]="PreTreatmentStaging?.Visible" data-tid="A358694">
				</hvl-richtextbox>
			</div>
			<div class="col-sm-6" data-tid="A358695">
				<hvl-richtextbox (change)="onInterimEvaluationChanged($event)" [ngModelOptions]="{ standalone: true }" [ngModel]="_MedicalOncology.InterimEvaluation" [ReadOnly]="InterimEvaluation?.ReadOnly" [TemplateGroupName]="InterimEvaluation?.TemplateGroupName" [Visible]="InterimEvaluation?.Visible" data-tid="A358696">
				</hvl-richtextbox>
			</div>
		</div>
		<div class="row" data-tid="A358697">
			<label class="control-label col-sm-6" data-tid="A358698">
				İlk Basamak Tedavi </label>
			<label class="control-label col-sm-6" data-tid="A358699">
				İkinci Basamak Tedavi </label>
		</div>
		<div class="row" data-tid="A358700">
			<div class="col-sm-6" data-tid="A358701">
				<hvl-richtextbox (change)="onFirstLineTreatmentChanged($event)" [ngModelOptions]="{ standalone: true }" [ngModel]="_MedicalOncology.FirstLineTreatment" [ReadOnly]="FirstLineTreatment?.ReadOnly" [TemplateGroupName]="FirstLineTreatment?.TemplateGroupName" [Visible]="FirstLineTreatment?.Visible" data-tid="A358702">
				</hvl-richtextbox>
			</div>
			<div class="col-sm-6" data-tid="A358703">
				<hvl-richtextbox (change)="onSecondLineTreatmentChanged($event)" [ngModelOptions]="{ standalone: true }" [ngModel]="_MedicalOncology.SecondLineTreatment" [ReadOnly]="SecondLineTreatment?.ReadOnly" [TemplateGroupName]="SecondLineTreatment?.TemplateGroupName" [Visible]="SecondLineTreatment?.Visible" data-tid="A358704">
				</hvl-richtextbox>
			</div>
		</div>
		<div class="row" data-tid="A358705">
			<label class="control-label col-sm-6" data-tid="A358706">
				Öykü </label>
			<label class="control-label col-sm-6" data-tid="A358707">
				Patoloji </label>
		</div>
		<div class="row" data-tid="A358708">
			<div class="col-sm-6" data-tid="A358709">
				<hvl-richtextbox (change)="onStoryChanged($event)" [ngModelOptions]="{ standalone: true }" [ngModel]="_MedicalOncology.Story" [ReadOnly]="Story?.ReadOnly" [TemplateGroupName]="Story?.TemplateGroupName" [Visible]="Story?.Visible" data-tid="A358710">
				</hvl-richtextbox>
			</div>
			<div class="col-sm-6" data-tid="A358711">
				<hvl-richtextbox (change)="onPathologyChanged($event)" [ngModelOptions]="{ standalone: true }" [ngModel]="_MedicalOncology.Pathology" [ReadOnly]="Pathology?.ReadOnly" [TemplateGroupName]="Pathology?.TemplateGroupName" [Visible]="Pathology?.Visible" data-tid="A358712">
				</hvl-richtextbox>
			</div>
		</div>

		<div class="row" data-tid="A358713">
			<label class="control-label col-sm-12" data-tid="A358714">
				Açıklama </label>
		</div>
		<div class="row" data-tid="A358715">
			<div class="col-sm-12" data-tid="A358716">
				<hvl-richtextbox (change)="onDescriptionChanged($event)" [ngModelOptions]="{ standalone: true }" [ngModel]="_MedicalOncology.Description" [ReadOnly]="Description?.ReadOnly" [TemplateGroupName]="Description?.TemplateGroupName" [Visible]="Description?.Visible" data-tid="A358717">
				</hvl-richtextbox>
			</div>
		</div>

		<div class="row" data-tid="A358718">
			<label class="control-label col-sm-2" data-tid="A358719">
				Boy(cm) </label>
			<label class="control-label col-sm-2" data-tid="A358720">
				Kilo(kg) </label>
			<label class="control-label col-sm-2" data-tid="A358721">
				VKİ </label>
		</div>
		<div class="row" data-tid="A358722">
			<div class="col-sm-2" data-tid="A358723">
				<hvl-number-box (ValueChange)="onHeightChanged($event)" [Value]="medicalOncologySpecialityFormViewModel?._MedicalOncology?.Height" data-tid="A358724"></hvl-number-box>


			</div>
			<div class="col-sm-2" data-tid="A358725">
				<hvl-number-box (ValueChange)="onWeightChanged($event)" [Value]="medicalOncologySpecialityFormViewModel?._MedicalOncology?.Weight" data-tid="A358726"></hvl-number-box>

			</div>
			<div class="col-sm-2" data-tid="A358727">
				<dx-text-box [(value)]="medicalOncologySpecialityFormViewModel.BMIValue" [readOnly]="true" data-tid="A358728">
				</dx-text-box>
			</div>
		</div>

		<div class="row" data-tid="A358729">
			<label class="control-label col-sm-2" data-tid="A358730">
				PS </label>
			<label class="control-label col-sm-2" data-tid="A358731">
				TA </label>
			<label class="control-label col-sm-2" data-tid="A358732">
				NB </label>
			<label class="control-label col-sm-2" data-tid="A358733">
				M2 </label>
		</div>
		<div class="row" data-tid="A358734">
			<div class="col-sm-2" data-tid="A358735">
				<hvl-text-box #Validation (TextChange)="onPSChanged($event)" [BackColor]="PS?.BackColor" [CharacterCasing]="PS?.CharacterCasing" [Enabled]="PS?.Enabled" [Font]="PS?.Font" [ForeColor]="PS?.ForeColor" [height]="PS?.Height" [InputFormat]="PS?.InputFormat" [InputTurkishCharacter]="PS?.InputTurkishCharacter" [IsNonNumeric]="PS?.IsNonNumeric" [MultiLine]="PS?.Multiline" [ReadOnly]="PS?.ReadOnly" [Required]="PS?.Required" [TabIndex]="PS?.TabIndex" [TextAlign]="PS?.TextAlign" [Text]="_MedicalOncology.PS" [Visible]="PS?.Visible" data-tid="A358736">
				</hvl-text-box>
			</div>
			<div class="col-sm-2" data-tid="A358737">
				<hvl-text-box #Validation (TextChange)="onTAChanged($event)" [BackColor]="TA?.BackColor" [CharacterCasing]="TA?.CharacterCasing" [Enabled]="TA?.Enabled" [Font]="TA?.Font" [ForeColor]="TA?.ForeColor" [height]="TA?.Height" [InputFormat]="TA?.InputFormat" [InputTurkishCharacter]="TA?.InputTurkishCharacter" [IsNonNumeric]="TA?.IsNonNumeric" [MultiLine]="TA?.Multiline" [ReadOnly]="TA?.ReadOnly" [Required]="TA?.Required" [TabIndex]="TA?.TabIndex" [TextAlign]="TA?.TextAlign" [Text]="_MedicalOncology.TA" [Visible]="TA?.Visible" data-tid="A358738">
				</hvl-text-box>
			</div>
			<div class="col-sm-2" data-tid="A358739">
				<hvl-text-box #Validation (TextChange)="onNBChanged($event)" [BackColor]="NB?.BackColor" [CharacterCasing]="NB?.CharacterCasing" [Enabled]="NB?.Enabled" [Font]="NB?.Font" [ForeColor]="NB?.ForeColor" [height]="NB?.Height" [InputFormat]="NB?.InputFormat" [InputTurkishCharacter]="NB?.InputTurkishCharacter" [IsNonNumeric]="NB?.IsNonNumeric" [MultiLine]="NB?.Multiline" [ReadOnly]="NB?.ReadOnly" [Required]="NB?.Required" [TabIndex]="NB?.TabIndex" [TextAlign]="NB?.TextAlign" [Text]="_MedicalOncology.NB" [Visible]="NB?.Visible" data-tid="A358740">
				</hvl-text-box>
			</div>
			<div class="col-sm-2" data-tid="A358741">
				<hvl-text-box #Validation (TextChange)="onM2Changed($event)" [BackColor]="M2?.BackColor" [CharacterCasing]="M2?.CharacterCasing" [Enabled]="M2?.Enabled" [Font]="M2?.Font" [ForeColor]="M2?.ForeColor" [height]="M2?.Height" [InputFormat]="M2?.InputFormat" [InputTurkishCharacter]="M2?.InputTurkishCharacter" [IsNonNumeric]="M2?.IsNonNumeric" [MultiLine]="M2?.Multiline" [ReadOnly]="M2?.ReadOnly" [Required]="M2?.Required" [TabIndex]="M2?.TabIndex" [TextAlign]="M2?.TextAlign" [Text]="_MedicalOncology.M2" [Visible]="M2?.Visible" data-tid="A358742">
				</hvl-text-box>
			</div>
		</div>

		<br data-tid="A358743" />

		<div class="row" data-tid="A358744">
			<div class="col-sm-12" *ngIf="showOncologyGrid == true" data-tid="A358745">
				<div id="oncology" data-tid="A358746">
					<dx-data-grid #grid id="grid-container" [dataSource]="this.OncologyForms" keyExpr="ObjectID" (onSelectionChanged)="selectionChangedHandlerOnForms($event)" (onRowPrepared)="onRowPrepared($event)" (onHiding)="popUpClosed($event)" data-tid="A358747">

						<dxo-selection mode="single" data-tid="A358748"></dxo-selection>
						<dxo-paging [pageSize]="10" data-tid="A358749"></dxo-paging>
						<dxo-filter-row [visible]="true" id="A5673" data-tid="A358750"> </dxo-filter-row>
						<dxi-column dataField="Date" caption="Tarih" dataType="date" format="dd/MM/yyyy" [width]="100" data-tid="A358751">
						</dxi-column>
						<dxi-column dataField="Doctor.Name" caption="Doktor" data-tid="A358752"></dxi-column>
						<dxi-column dataField="InterimEvaluation" caption="Ara Değerlendirme" data-tid="A358753">
						</dxi-column>
						<dxi-column dataField="BMIValue" caption="VKİ" data-tid="A358754"></dxi-column>
						<dxi-column dataField="Description" caption="Açıklama" data-tid="A358755"></dxi-column>
					</dx-data-grid>
				</div>
			</div>
		</div>

	</div>

	<dx-popup [(visible)]="showOldOncologyForm" [closeOnOutsideClick]="false" width="1000" height="900" title="Geçmiş Onkoloji Formu" i18n-title="@@M30219" id="A24169" (onHiding)="popUpClosed($event)" data-tid="A358756">
		<div *dxTemplate="let data of 'content'" id="A24170" data-tid="A358757">
			<div class="container-fluid" id="A24161" data-tid="A358758">
				<MedicalOncologySpecialityForm *ngIf="showOldOncologyForm == true" [MedicalOncology]="this.oldOncologyFormID" data-tid="A358759"> </MedicalOncologySpecialityForm>
			</div>
		</div>
	</dx-popup>

	<dx-popup [(visible)]="showProcedurePlanningForm" [closeOnOutsideClick]="false" width="1000" height="900" title="İstem Planlama Formu" i18n-title="@@M30219" id="A24169" data-tid="A358760">
		<div *dxTemplate="let data of 'content'" id="A24170" data-tid="A358761">
			<div class="container-fluid" id="A24161" data-tid="A358762">
				<ProcedureRequestPlanningForm *ngIf="createdChemotherapyObject!=null" [episodeActionId]="createdChemotherapyObject?.ObjectID" (ProcessCompleted)="closeProcedurePlanningFormPopUp($event)" data-tid="A358763">
				</ProcedureRequestPlanningForm>
			</div>
		</div>
	</dx-popup>

	<dx-popup width="500" height="320" [(visible)]="createRequest" [closeOnOutsideClick]="false" title="Kemoterapi / Radyoterapi İstemi" data-tid="A358764">
		<div *dxTemplate="let data of 'content'" data-tid="A358765">
			<div class="row" data-tid="A358766">

				<label class="control-label col-md-12" data-tid="A358767">
					Açıklama
				</label>
				<div class="col-md-12" data-tid="A358768">
					<dx-text-box placeholder="İstek Açıklaması Giriniz..." [(value)]="ChemoRadioRequestDescription" i18n-placeholder="@@M18458" id="A1466" data-tid="A358769">

					</dx-text-box>
				</div>
			</div>
			<div class="row" data-tid="A358770">
				<label class="control-label  col-md-12" data-tid="A358771">
					Protokol Seçimi
				</label>
				<div class="col-md-12" data-tid="A358772">
					<dx-select-box #TemplateCombo [dataSource]="medicalOncologySpecialityFormViewModel?.userTemplateList" (onItemClick)="SelectUserTemplate($event)" noDataText="Kullanıcı Şablonu Bulunamadı!" displayExpr="Description" searchEnabled="true" searchMode="contains" valueExpr="ObjectID" data-tid="A358773">
					</dx-select-box>
				</div>
			</div>
			<br data-tid="A358774" />
			<div class="row" *ngIf="showUserTemplatePopUp == true" style="background-color: #f0f8ff94;" data-tid="A358775">
				<label class="col-md-12" data-tid="A358776"> Seçilen Protokol: </label>
				<div class="col-md-4" data-placement="top" title="Kür Sayısı" i18n-title="@@M15336" id="A14418" data-tid="A358777">Kür
					Sayısı :
					{{selectedProtocol?.CureCount}}</div>
				<div class="col-md-4" data-placement="top" title="Tekrar Gün Sayısı" i18n-title="@@M11390" id="A14421" data-tid="A358778">
					Tekrar Gün Sayısı : {{selectedProtocol?.RepetitiveDayCount}}</div>
				<div class="col-md-4" data-placement="top" title="Tedavi Öncesi(dk)" i18n-title="@@M12265" id="A14419" data-tid="A358779">
					Tedavi Öncesi(dk) : {{selectedProtocol?.PreCureMinute}}</div>
				<div class="col-md-4" data-placement="top" title="Tedavi Süresi(dk)" i18n-title="@@M15262" id="A14420" data-tid="A358780">
					Tedavi Süresi(dk) : {{selectedProtocol?.CureTime}}</div>
				<div class="col-md-4" data-placement="top" title="Tedavi Sonrası(dk)" i18n-title="@@M11390" id="A14421" data-tid="A358781">
					Tedavi Sonrası(dk): {{selectedProtocol?.AfterCureTime}}</div>
				<div class="col-md-4" data-placement="top" title="Etkin Madde" i18n-title="@@M18009" id="A14422" data-tid="A358782">Etkin
					Madde
					: {{selectedProtocol?.EtkinMadde?.Name}}</div>
				<div class="col-md-6" data-placement="top" title="İlaç" i18n-title="@@M15322" id="A14423" *ngIf="selectedProtocol.IsRadiotherapyCure == false" data-tid="A358783">
					İlaç: {{selectedProtocol?.Material?.Name}}</div>
				<div class="col-md-6" data-placement="top" title="Işın" i18n-title="@@M15322" id="A14423" *ngIf="selectedProtocol.IsRadiotherapyCure == true" data-tid="A358784">
					Işın: {{selectedProtocol?.RadiotherapyXRayTypeDef?.Name}}</div>
				<div class="col-md-6" data-placement="top" title="Çözücü" i18n-title="@@M27441" id="A14424" *ngIf="selectedProtocol.IsRadiotherapyCure == false" data-tid="A358785"> Çözücü :
					{{selectedProtocol?.Solvent.Name}}</div>
				<div class="col-md-6" data-placement="top" title="İlaç Dozu" i18n-title="@@M15322" id="A14423" *ngIf="selectedProtocol.IsRadiotherapyCure == false" data-tid="A358786"> İlaç
					Dozu :
					{{selectedProtocol?.DrugDose}} mgr </div>
				<div class="col-md-6" data-placement="top" title="Çözücü Dozu" i18n-title="@@M27441" id="A14424" *ngIf="selectedProtocol.IsRadiotherapyCure == false" data-tid="A358787"> Çözücü
					Dozu : {{selectedProtocol?.SolventDose}} ml</div>
			</div>
			<div class="col-md-12" style="text-align:right;" data-tid="A358788">
				<br data-tid="A358789" />
				<button type="button" class="btn btn-default" (click)="CreateChemoRadioRequest()" data-tid="A358790">Kemoterapi /
					Radyoterapi İsteği Oluştur</button>
			</div>
		</div>
	</dx-popup>

	<!--<dx-popup width="600px" height="250px" [(visible)]="showUserTemplatePopUp" [closeOnOutsideClick]="false"
		title="Şablon" i18n-title="@@M13708" id="A24159">
		<div *dxTemplate="let data of 'content'" id="A24160">
			<div class="row">
				<div class="col-md-4" data-placement="top" title="Kür Sayısı" i18n-title="@@M15336" id="A14418">Kür
					Sayısı :
					{{selectedProtocol?.CureCount}}</div>
				<div class="col-md-4" data-placement="top" title="Tekrar Gün Sayısı" i18n-title="@@M11390" id="A14421">
					Tekrar Gün Sayısı : {{selectedProtocol?.RepetitiveDayCount}}</div>
				<div class="col-md-4" data-placement="top" title="Tedavi Öncesi(dk)" i18n-title="@@M12265" id="A14419">
					Tedavi Öncesi(dk) : {{selectedProtocol?.PreCureMinute}}</div>
				<div class="col-md-4" data-placement="top" title="Tedavi Süresi(dk)" i18n-title="@@M15262" id="A14420">
					Tedavi Süresi(dk) : {{selectedProtocol?.CureTime}}</div>
				<div class="col-md-4" data-placement="top" title="Tedavi Sonrası(dk)" i18n-title="@@M11390" id="A14421">
					Tedavi Sonrası(dk): {{selectedProtocol?.AfterCureTime}}</div>
				<div class="col-md-4" data-placement="top" title="Etkin Madde" i18n-title="@@M18009" id="A14422">Etkin
					Madde
					: {{selectedProtocol?.EtkinMadde.Name}}</div>
				<div class="col-md-6" data-placement="top" title="İlaç" i18n-title="@@M15322" id="A14423"
					*ngIf="selectedProtocol.IsRadiotherapyCure == false">
					İlaç: {{selectedProtocol?.Material?.Name}}</div>
				<div class="col-md-6" data-placement="top" title="Işın" i18n-title="@@M15322" id="A14423"
					*ngIf="selectedProtocol.IsRadiotherapyCure == true">
					Işın: {{selectedProtocol?.RadiotherapyXRayTypeDef?.Name}}</div>
				<div class="col-md-6" data-placement="top" title="Çözücü" i18n-title="@@M27441" id="A14424"
					*ngIf="selectedProtocol.IsRadiotherapyCure == false"> Çözücü :
					{{selectedProtocol?.Solvent.Name}}</div>
				<div class="col-md-6" data-placement="top" title="İlaç Dozu" i18n-title="@@M15322" id="A14423"
					*ngIf="selectedProtocol.IsRadiotherapyCure == false"> İlaç
					Dozu :
					{{selectedProtocol?.DrugDose}} mgr </div>
				<div class="col-md-6" data-placement="top" title="Çözücü Dozu" i18n-title="@@M27441" id="A14424"
					*ngIf="selectedProtocol.IsRadiotherapyCure == false"> Çözücü
					Dozu : {{selectedProtocol?.SolventDose}} ml</div>
			</div>
		</div>
	</dx-popup> -->

</div>