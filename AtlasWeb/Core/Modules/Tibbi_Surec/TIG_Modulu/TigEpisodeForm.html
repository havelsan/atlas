<div class="container-fluid" id="A28613" data-tid="A367042">
    <form id="TigEpisodeForm" class="form-horizontal" role="form" data-tid="A367043">

    </form>
    <div class="row" id="A28614" data-tid="A367044">
        <div class="col-sm-6" id="A28615" data-tid="A367045">
            <div class="row" style="padding-bottom:3px" id="A28616" data-tid="A367046">
                <label class="control-label col-sm-3" id="A28617" data-tid="A367047">
                    Taburcu Tarihi Başlangıç
                </label>
                <div class="col-sm-3" id="A28618" data-tid="A367048">
                    <dx-date-box [acceptCustomValue]="false" [(value)]="tigEpisodeFormViewModel.TigEpisodeFormSearchModel.DischargeDateBegin" [showClearButton]="true" pickerType="calendar" type="date" displayFormat="dd/MM/yyyy" style="width:100%" id="A28619" data-tid="A367049"></dx-date-box>
                </div>
                <label class="control-label col-sm-3" style="text-align:center" id="A28620" data-tid="A367050">
                    Taburcu Tarihi Bitiş
                </label>
                <div class="col-sm-3" id="A28621" data-tid="A367051">
                    <dx-date-box [acceptCustomValue]="false" [(value)]="tigEpisodeFormViewModel.TigEpisodeFormSearchModel.DischargeDateEnd" [showClearButton]="true" pickerType="calendar" type="date" displayFormat="dd/MM/yyyy" style="width:100%" id="A28622" data-tid="A367052"></dx-date-box>
                </div>
            </div>
            <div class="row" style="padding-bottom:3px" id="A28623" data-tid="A367053">
                <label class="control-label col-sm-3" id="A28624" data-tid="A367054">
                    XML Oluşturma Tarihi Başlangıç
                </label>
                <div class="col-sm-3" id="A28625" data-tid="A367055">
                    <dx-date-box [acceptCustomValue]="false" [(value)]="tigEpisodeFormViewModel.TigEpisodeFormSearchModel.XMLCreationDateBegin" [showClearButton]="true" pickerType="calendar" type="date" displayFormat="dd/MM/yyyy" style="width:100%" id="A28626" data-tid="A367056"></dx-date-box>
                </div>
                <label class="control-label col-sm-3" style="text-align:center" id="A28627" data-tid="A367057">
                    XML Oluşturma Tarihi Bitiş
                </label>
                <div class="col-sm-3" id="A28628" data-tid="A367058">
                    <dx-date-box [acceptCustomValue]="false" [(value)]="tigEpisodeFormViewModel.TigEpisodeFormSearchModel.XMLCreationDateEnd" [showClearButton]="true" pickerType="calendar" type="date" displayFormat="dd/MM/yyyy" style="width:100%" id="A28629" data-tid="A367059"></dx-date-box>
                </div>
            </div>
            <div class="row" style="padding-bottom:3px" id="A28630" data-tid="A367060">
                <label class="control-label col-sm-3" id="A28631" data-tid="A367061">
                    Kodlama Tarihi Başlangıç
                </label>
                <div class="col-sm-3" id="A28632" data-tid="A367062">
                    <dx-date-box [acceptCustomValue]="false" [(value)]="tigEpisodeFormViewModel.TigEpisodeFormSearchModel.CodingDateBegin" [showClearButton]="true" pickerType="calendar" type="date" displayFormat="dd/MM/yyyy" style="width:100%" id="A28633" data-tid="A367063"></dx-date-box>
                </div>
                <label class="control-label col-sm-3" style="text-align:center" id="A28634" data-tid="A367064">
                    Kodlama Tarihi Bitiş
                </label>
                <div class="col-sm-3" id="A28635" data-tid="A367065">
                    <dx-date-box [acceptCustomValue]="false" [(value)]="tigEpisodeFormViewModel.TigEpisodeFormSearchModel.CodingDateEnd" [showClearButton]="true" pickerType="calendar" type="date" displayFormat="dd/MM/yyyy" style="width:100%" id="A28636" data-tid="A367066"></dx-date-box>
                </div>
            </div>
            <div class="row" style="padding-bottom:3px" id="A28637" data-tid="A367067">
                <label class="control-label col-sm-3" id="A28638" data-tid="A367068">
                    XML Durumu
                </label>
                <div class="col-sm-3" id="A28639" data-tid="A367069">
                    <dx-select-box [items]="xMLStatus" placeholder="Seçiniz" displayExpr="Name" valueExpr="ID" [showClearButton]="true" [(value)]="tigEpisodeFormViewModel.TigEpisodeFormSearchModel.XMLStatus" i18n-placeholder="@@M27356" id="A28640" data-tid="A367070">
                    </dx-select-box>
                </div>
                <label class="control-label col-sm-3" id="A28641" data-tid="A367071">
                    Kodlama Durumu
                </label>
                <div class="col-sm-3" id="A28642" data-tid="A367072">
                    <dx-select-box [items]="codingStatus" placeholder="Seçiniz" displayExpr="Name" valueExpr="ID" [showClearButton]="true" [(value)]="tigEpisodeFormViewModel.TigEpisodeFormSearchModel.CodingStatus" i18n-placeholder="@@M27356" id="A28643" data-tid="A367073">
                    </dx-select-box>
                </div>
            </div>
            <div class="row" style="padding-bottom:3px" id="A28644" data-tid="A367074">
                <label class="control-label col-sm-3" id="A28645" data-tid="A367075">
                    Fatura Durumu
                </label>
                <div class="col-sm-3" id="A28646" data-tid="A367076">
                    <dx-select-box [items]="invoiceStatus" placeholder="Seçiniz" displayExpr="Name" valueExpr="ID" [showClearButton]="true" [(value)]="tigEpisodeFormViewModel.TigEpisodeFormSearchModel.InvoiceStatus" i18n-placeholder="@@M27356" id="A28647" data-tid="A367077">
                    </dx-select-box>
                </div>
                <label class="control-label col-sm-3" id="A28648" data-tid="A367078">
                    Patoloji İstem Durumu
                </label>
                <div class="col-sm-3" id="A28649" data-tid="A367079">
                    <dx-select-box [items]="pathologyRequestStatus" placeholder="Seçiniz" displayExpr="Name" valueExpr="ID" [showClearButton]="true" [(value)]="tigEpisodeFormViewModel.TigEpisodeFormSearchModel.PathologyRequestStatus" i18n-placeholder="@@M27356" id="A28650" data-tid="A367080">
                    </dx-select-box>
                </div>
            </div>
            <div class="row" style="padding-bottom:3px" id="A28651" data-tid="A367081">
                <label class="control-label col-sm-3" id="A28652" data-tid="A367082">
                    Randevu Durumu
                </label>
                <div class="col-sm-3" id="A28653" data-tid="A367083">
                    <dx-select-box [items]="appointmentStatus" placeholder="Seçiniz" displayExpr="Name" valueExpr="ID" [showClearButton]="true" [(value)]="tigEpisodeFormViewModel.TigEpisodeFormSearchModel.AppointmentStatus" i18n-placeholder="@@M27356" id="A28654" data-tid="A367084">
                    </dx-select-box>
                </div>
                <label class="control-label col-sm-3" id="A28655" data-tid="A367085">
                    Patoloji Rapor Durumu
                </label>
                <div class="col-sm-3" id="A28656" data-tid="A367086">
                    <dx-select-box [items]="pathologyReportStatus" placeholder="Seçiniz" displayExpr="Name" valueExpr="ID" [showClearButton]="true" [(value)]="tigEpisodeFormViewModel.TigEpisodeFormSearchModel.PathologyReportStatus" i18n-placeholder="@@M27356" id="A28657" data-tid="A367087">
                    </dx-select-box>
                </div>

            </div>
            <div class="row" style="padding-bottom:3px" id="A28658" data-tid="A367088">
                <label class="control-label col-sm-3" id="A28659" data-tid="A367089">
                    Epikriz Durumu
                </label>
                <div class="col-sm-3" id="A28660" data-tid="A367090">
                    <dx-select-box [items]="epicrisisStatus" placeholder="Seçiniz" displayExpr="Name" valueExpr="ID" [showClearButton]="true" [(value)]="tigEpisodeFormViewModel.TigEpisodeFormSearchModel.EpicrisisStatus" i18n-placeholder="@@M27356" id="A28661" data-tid="A367091">
                    </dx-select-box>
                </div>
                <label class="control-label col-sm-3" id="A28662" data-tid="A367092">
                    Tedavi Türü
                </label>
                <div class="col-sm-3" id="A28663" data-tid="A367093">
                    <hvl-enum-combobox #Validation [(Value)]="tigEpisodeFormViewModel.TigEpisodeFormSearchModel.PatientType" [BackColor]="patientType?.BackColor" [DataTypeName]="patientType?.DataTypeName" [Enabled]="patientType?.Enabled" [Font]="patientType?.Font" [ForeColor]="patientType?.ForeColor" [IncludeOnly]="patientType?.IncludeOnly" [ReadOnly]="patientType?.ReadOnly" [ShowClearButton]="patientType?.ShowClearButton" [SortBy]="patientType?.SortBy" [TabIndex]="patientType?.TabIndex" [Visible]="patientType?.Visible" id="A28664" data-tid="A367094">
                    </hvl-enum-combobox>
                </div>

            </div>
            <div class="row" style="padding-bottom:3px" id="A28665" data-tid="A367095">
                <label class="control-label col-sm-3 " id="A28666" data-tid="A367096">
                    Taburcu Eden Dr
                </label>
                <div class="col-sm-3" id="A28667" data-tid="A367097">
                    <dx-tag-box [dataSource]="doctorArray" displayExpr="Name" valueExpr="ObjectID" showDataBeforeSearch="true" [multiline]="false" showSelectionControls="true" [searchEnabled]="true" [(value)]="tigEpisodeFormViewModel.TigEpisodeFormSearchModel.SelectedDoctorsListItems" id="A28668" data-tid="A367098">
                    </dx-tag-box>
                </div>
                <label class="control-label col-sm-3 " id="A28669" data-tid="A367099">
                    Servis
                </label>
                <div class="col-sm-3" id="A28670" data-tid="A367100">
                    <dx-tag-box [dataSource]="clinicArray" displayExpr="Name" valueExpr="ObjectID" showDataBeforeSearch="true" [multiline]="false" showSelectionControls="true" [searchEnabled]="true" [(value)]="tigEpisodeFormViewModel.TigEpisodeFormSearchModel.SelectedClinicsListItems" id="A28671" data-tid="A367101">
                    </dx-tag-box>
                </div>
            </div>
            <div class="row" style="padding-bottom:3px" id="A28672" data-tid="A367102">
                <label class="control-label col-sm-3" id="A28673" data-tid="A367103">
                    XML Oluşturan Kullanıcı
                </label>
                <div class="col-sm-3" id="A28674" data-tid="A367104">
                    <dx-tag-box [dataSource]="tigResponsiblePersonelArray" displayExpr="Name" valueExpr="ObjectID" showDataBeforeSearch="true" [multiline]="false" showSelectionControls="true" [searchEnabled]="true" [(value)]="tigEpisodeFormViewModel.TigEpisodeFormSearchModel.SelectedXMLCreatedByUserListItems" id="A28675" data-tid="A367105">
                    </dx-tag-box>
                </div>
                <label class="control-label col-sm-3" id="A28676" data-tid="A367106">
                    Kodlama Yapan Kullanıcı
                </label>
                <div class="col-sm-3" id="A28677" data-tid="A367107">
                    <dx-tag-box [dataSource]="tigResponsiblePersonelArray" displayExpr="Name" valueExpr="ObjectID" showDataBeforeSearch="true" [multiline]="false" showSelectionControls="true" [searchEnabled]="true" [(value)]="tigEpisodeFormViewModel.TigEpisodeFormSearchModel.SelectedCodingByUserListItems" id="A28678" data-tid="A367108">
                    </dx-tag-box>
                </div>

            </div>

            <div class="row" style="padding-bottom:3px" id="A28672" data-tid="A367109">
                <label class="control-label col-sm-3" id="A28680" data-tid="A367110">
                    Branş
                </label>
                <div class="col-sm-3" id="A28681" data-tid="A367111">
                    <dx-tag-box [dataSource]="specialityArray" displayExpr="Name" valueExpr="ObjectID" showDataBeforeSearch="true" [multiline]="false" showSelectionControls="true" [searchEnabled]="true" [(value)]="tigEpisodeFormViewModel.TigEpisodeFormSearchModel.SelectedSpecialitiesListItems" id="A28682" data-tid="A367112">
                    </dx-tag-box>
                </div>
                <label class="control-label col-sm-3" id="A28673" data-tid="A367113">
                    Kabul Numarası
                </label>
                <div class="col-sm-3" id="A28674" data-tid="A367114">
                    <dx-text-box [(value)]="tigEpisodeFormViewModel.TigEpisodeFormSearchModel.ProtocolNo" showClearButton="true" multiline="false" data-tid="A367115"> </dx-text-box>

                </div>


            </div>


            <div class="row" style="padding-bottom:3px" id="A28672" data-tid="A367116">

                <label class="control-label col-sm-3" id="A28676" data-tid="A367117">
                    Arşiv Numarası
                </label>
                <div class="col-sm-3" id="A28677" data-tid="A367118">
                    <dx-text-box showClearButton="true" [(value)]="tigEpisodeFormViewModel.TigEpisodeFormSearchModel.ArchiveNo" data-tid="A367119"> </dx-text-box>
                </div>
                <label class="control-label col-sm-3" id="A28680" data-tid="A367120">
                    Açıklama
                </label>
                <div class="col-sm-3" id="A28681" data-tid="A367121">
                    <dx-text-box [(value)]="tigEpisodeFormViewModel.TigEpisodeFormSearchModel.Description" showClearButton="true" multiline="true" data-tid="A367122"> </dx-text-box>
                </div>
            </div>

            <div class="row" style="padding-bottom:3px" id="A28679" data-tid="A367123">
                <label class="control-label col-sm-3" id="A28673" data-tid="A367124">
                    Hasta Arama
                </label>
                <div class="col-sm-6" id="A28674" data-tid="A367125">
                    <PatientSearchForm Width="100%" (SelectedPatientChanged)="patientChanged($event)" id="A28457" data-tid="A367126">
                    </PatientSearchForm>
                </div>

            </div>

            <div class="row" style="padding-bottom:3px" id="A28679" data-tid="A367127">
                <label class="control-label col-sm-3" id="A28673" data-tid="A367128">
                    Sorgu Kayıt
                </label>
                <div class="col-sm-6" id="A28683" data-tid="A367129">
                    <user-search-criteria PageName="TigEpisodeForm" [SearchViewModel]="tigEpisodeFormViewModel.TigEpisodeFormSearchModel" (ViewModelLoaded)="userSearchModelLoaded($event)" [DefaultButtonVisible]="false" PlaceHolder="Kayıtlı Sorgular" AutoCompleteClasses="col-sm-6 row" class="col-sm-12" style="text-align:right;padding:0" i18n-PlaceHolder="@@M17434" id="A28684" data-tid="A367130">
                    </user-search-criteria>
                </div>

            </div>
            <br data-tid="A367131" />
            <div class="row" id="A28685" data-tid="A367132">
                <div class="col-sm-3" id="A28686" data-tid="A367133">
                    <dx-button type="default" icon="fa fa-bars" text="Listele" (onClick)="getRecords()" i18n-text="@@M27337" id="A28687" data-tid="A367134"></dx-button>
                </div>
                <div class="col-sm-2" id="A28688" data-tid="A367135">
                    <dx-button type="default" icon="fa fa-file-excel-o" text="XML Oluştur" (onClick)="createXML()" i18n-text="@@M24220" id="A28689" data-tid="A367136"></dx-button>
                </div>
                <div class="col-sm-4" id="A28688" data-tid="A367137">
                    <dx-button type="default" icon="fa fa-file-excel-o" text="XML Oluştur(Diğer Formatlar)" (onClick)="printXMLReport()" i18n-text="@@M24220" id="A28689" data-tid="A367138"></dx-button>
                </div>
                <div class="col-sm-3" id="A28690" data-tid="A367139">
                    <dx-button type="default" icon="fa fa-code" text="Kodlama Yapıldı" (onClick)="MarkCodedForSelectedEpisodes()" i18n-text="@@M17683" id="A28691" data-tid="A367140"></dx-button>
                </div>
            </div>
        </div>
        <div class="col-sm-6" id="A28692" data-tid="A367141">
            <div class="row" id="A28693" data-tid="A367142">
                <div class="col-sm-6" id="A28694" data-tid="A367143">
                    <div class="row" id="A28695" data-tid="A367144">
                        <div class="col-sm-12" id="A28696" data-tid="A367145">
                            <atlas-report-component ReportDefName="TigBBAGReport" id="A28697" data-tid="A367146"></atlas-report-component>
                        </div>

                    </div>

                    <br data-tid="A367147" />

                    <div class="row" id="A28693" data-tid="A367148">
                        <div class="col-sm-12" id="A28698" data-tid="A367149">
                            <dx-button text=" TİG Web Sayfası" type="default" (onClick)="openTIGWebPage()" data-tid="A367150"></dx-button>
                        </div>
                    </div>
                    <br data-tid="A367151" />

                    <div class="row" id="A28693" data-tid="A367152">
                        <div class="col-sm-12" id="A28694" data-tid="A367153">
                            <dx-button text="TİG Dökümanlar" (onClick)="openTIGDocuments()" type="default" data-tid="A367154"></dx-button>
                        </div>
                    </div>


                </div>
                <div class="col-sm-6" id="A28698" data-tid="A367155">
                    <div class="row" id="A28699" data-tid="A367156">
                        <div class="col-sm-12" id="A28700" data-tid="A367157">
                            <atlas-report-component ReportDefName="TigIBAGReport" id="A28701" data-tid="A367158"></atlas-report-component>
                        </div>

                    </div>
                </div>
            </div>
        </div>

    </div>
    <div class="row" id="A28702" data-tid="A367159">
        <div class="col-sm-12" id="A28703" data-tid="A367160">
            <dx-data-grid #tigepisodes showColumnLines="true" showRowLines="true" rowAlternationEnabled="true" showBorders="true" [allowColumnResizing]="true" [filterRow]="{visible: true}" height="95%" [dataSource]="tigEpisodeFormViewModel.TigEpisodeCollectionList" [columns]='TigEpisodeDataGridColumns' (onCellHoverChanged)="onCellHover($event)" [selection]="{mode: 'multiple',allowSelectAll: true}" [(selectedRowKeys)]="selectedTigEpisodeItems" (onRowClick)="grdTigEpisodeRowClick($event)" id="A28704" (onContextMenuPreparing)="onContextMenuPreparingTIGEpisodes($event)" data-tid="A367161">
                <!--(onRowClick)="grdCashOfficeWorkListClick($event) (onContextMenuPreparing)="onGrdWorkListContextPreparing($event)"-->
                <div *dxTemplate="let row of 'detailButtonTemplate'" id="A24132" data-tid="A367162">
                    <button type="button" class="fa fa-archive" data-toggle="tooltip" data-placement="top" title="Arşiv" (click)="ShowSectionInfo_CellContentClickEmitted(row)" id="A35150" data-tid="A367163"></button>
                </div>
            </dx-data-grid>
            <dx-popover showEvent="dxhoverstart" hideEvent="dxhoverend" [width]="300" id="A28705" data-tid="A367164">
            </dx-popover>
            <dx-load-panel class="highz" shadingColor="rgba(0,0,0,0.4)" [(visible)]="showLoadPanel" [showIndicator]="true" [showPane]="true" [shading]="true" [closeOnOutsideClick]="false" [(message)]="LoadPanelMessage" id="A28706" data-tid="A367165">
            </dx-load-panel>
        </div>
    </div>
    <div class="row" id="A28707" data-tid="A367166">
        <div class="col-sm-12" id="A28708" data-tid="A367167">
            <label class="control-label" id="A28709" data-tid="A367168">
                Görüntülenen Kayıt Sayısı: {{tigEpisodeFormViewModel.TigEpisodeCollectionList?.length}}
            </label>
        </div>
    </div>

</div>



<dx-popup class="reportStyle" [fullScreen]="true" [showTitle]="true" [title]="popupTitle" [width]="1000" [height]="800" [(visible)]="showPatientHistoryPopup" i18n-title="@@M27456" id="A28710" data-tid="A367169">
    <div *dxTemplate="let data of 'content'" id="A28711" data-tid="A367170">
        <dx-scroll-view direction="both" id="A28712" data-tid="A367171">
            <PatientHistoryForm [episode]="tigEpisodeFormViewModel.selectedEpisode" id="A28713" data-tid="A367172">Hasta
                Geçmişi</PatientHistoryForm>
        </dx-scroll-view>
    </div>
</dx-popup>


<dx-popup width="400" height="250" [(visible)]="createDescription" [closeOnOutsideClick]="false" title="TIG Açıklama Girişi" data-tid="A367173">
    <div *dxTemplate="let data of 'content'" data-tid="A367174">
        <div class="row" data-tid="A367175">
            <div class="col-sm-12" data-tid="A367176">
                {{patientInfo}}
            </div>
            <div class="col-sm-12" data-tid="A367177">
                <dx-text-area placeholder="Açıklama Giriniz..." [(value)]="TIGEpisodeDescription" width="375px" height="120px" data-tid="A367178">
                </dx-text-area>
            </div>
        </div>
        <br data-tid="A367179" />
        <div class="row" style="text-align:right;" data-tid="A367180">
            <div class="col-sm-2" style="margin-left: -10px;" data-tid="A367181"></div>

            <div class="col-sm-4" data-tid="A367182">
                <dx-button icon="save" type="default" (click)="createTIGDescription('T')" text="Tamam" data-tid="A367183">
                </dx-button>
            </div>
            <div class="col-sm-4" data-tid="A367184">
                <dx-button icon="fa fa-undo" type="danger" (click)="createTIGDescription('V')" text="Vazgeç" data-tid="A367185">
                </dx-button>
            </div>
            <div class="col-sm-2" data-tid="A367186"></div>
        </div>
    </div>
</dx-popup>